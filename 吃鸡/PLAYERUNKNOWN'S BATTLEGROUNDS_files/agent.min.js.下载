!function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n=window.webpackJsonp;window.webpackJsonp=function(r,i){for(var a,s,l=0,c=[];l<r.length;l++)s=r[l],o[s]&&c.push.apply(c,o[s]),o[s]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);for(n&&n(r,i);c.length;)c.shift().call(null,e)};var r={},o={0:0};return e.e=function(t,n){if(0===o[t])return n.call(null,e);if(void 0!==o[t])o[t].push(n);else{o[t]=[n];var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.src=e.p+""+t+".agent.js",r.appendChild(i)}},e.m=t,e.c=r,e.p="",e(0)}([function(t,e,n){"use strict";var r=document.createElement("meta");r.name="google",r.content="notranslate",document.getElementsByTagName("head")[0].appendChild(r);var o,i="undefined"!=typeof window?window:this,a=i.Trex;o=n(1),o.api=n(10),o.auth=n(22),o.version="1.0.7",o.env="production",o.noConflict=function(){return i.Trex=a,o},i.Trex=o,n(25),n(26),n(35),n(36),n(39),n(40),n(41),n(45),n(53),n(54),n(55),n(70),n(71),n(72)},function(t,e,n){"use strict";var r=n(2),o=n(3),i=n(4),a=n(7),s=n(8),l=n(9);n.p=r.domains.agent.replace(/\/$/,"")+"/";var c={},u=function(){return u};u.initialized=!1,u.debug=!1,a(u,o),u.init=function(t,e){if(!t)throw"Translation Exchange Agent requires an application key";a(!0,r,e,{key:t}),u.on("error",u.log),u.initialized=!0,u.trigger("ready",i)},u.component=function(t,e){return e&&e.call&&(c[t]=e(r)||null,u.trigger(t+":ready",c[t])),c[t]},u.ready=function(t){u.initialized?t(i):u.on("ready",t)},u.require=function(t,e){if(e&&e.call){"string"==typeof t&&(t=[t]);var n={},r=[];t.forEach(function(t){n[t]=!1});var o=function(o,i){n[i]=!0;for(var a in n)if(!n[a])return;t.forEach(function(t){r.push(u.component(t))}),e.apply(this,r)};t.forEach(function(t){void 0!==u.component(t)?o(u.component(t),t):u.once(t+":ready",function(e){o(e,t)})})}},u.log=function(t){u.debug&&console.log("[Translation Exchange]",t)},u.urlForTool=function(t,e,n,o){o=o||{};var a=i("oauth.token"),s=(window.location+"").split("/"),c=(new Date).getTime(),u=r.domains[t];return e&&(u+="/"+e),c&&(u+="?"+c),n&&(u+="#/"+n),a&&(o.access_token=a),o.agent=1,o.origin=s[0]+"//"+s[2],u+"?"+l(o)},u.load=s,t.exports=u},function(t,e){t.exports={apiVersion:1,environment:"production",domains:{api:"https://api.translationexchange.com",gateway:"https://gateway.translationexchange.com",tools:"https://tools.translationexchange.com/inline/stable",widget:"https://tools.translationexchange.com/widget/stable",agent:"https://tools.translationexchange.com/agent/stable",ls:"https://tools.translationexchange.com/ls",tc:"https://translation-center.translationexchange.com",communicator:"wss://communicator.translationexchange.com",analytics:"https://analyst.translationexchange.com"},shortcuts:{toggleTranslationMode:"ctrl+shift+i",openLanguageSelector:"ctrl+shift+l",openMetrics:"ctrl+shift+m",openWidget:"ctrl+shift+j"},enableOverlay:!1}},function(t,e){"use strict";t.exports={on:function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},once:function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},off:function(t,e){this._callbacks=this._callbacks||{};var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},trigger:function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;r<o;++r)n[r].apply(this,e)}return this}}},function(t,e,n){"use strict";function r(){return"trex_"+s.key}function o(){var t=i.get(r());if(t)try{var e=a.decode(decodeURIComponent(t));l=JSON.parse(e.replace(/\}[^}]+$/,"}"))}catch(n){if(n instanceof SyntaxError){var e=a.decode(decodeURIComponent(decodeURIComponent(t)));l=JSON.parse(e.replace(/\}[^}]+$/,"}"))}}return l}var i=n(5),a=n(6),s=n(2),l={};t.exports=function(t,e){var n,c=o(),u=t?t.split("."):[],d=u.length;for(n=0;n<d&&c;n++){var f=u[n],h=c[f];if(void 0!==e)h=n+1==d?e:"object"==typeof c[f]&&c[f]||{},c[f]=h;else if(void 0===h)return h;c=h}if(void 0!==e){var p=s.config&&s.config.domain&&document.location.hostname.match(new RegExp(s.config.domain+"$")),g=p&&s.config.domain;i.set(r(),encodeURIComponent(a.encode(JSON.stringify(l))),null,g)}return c}},function(t,e){"use strict";t.exports={get:function(t){var e,n=t+"=",r=document.cookie.split(";");for(e=0;e<r.length;e++){for(var o=r[e];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(n))return o.substring(n.length,o.length)}return null},set:function(t,e,n,r){if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3);var i="; expires="+o.toGMTString()}else{var i="";document.cookie=t+"="+e+i+"; path=/"+(r?";domain="+r:"")}}}},function(t,e){"use strict";var n={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,r,o,i,a,s,l,c="",u=0;for(t=n._utf8_encode(t);u<t.length;)e=t.charCodeAt(u++),r=t.charCodeAt(u++),o=t.charCodeAt(u++),i=e>>2,a=(3&e)<<4|r>>4,s=(15&r)<<2|o>>6,l=63&o,isNaN(r)?s=l=64:isNaN(o)&&(l=64),c=c+this._keyStr.charAt(i)+this._keyStr.charAt(a)+this._keyStr.charAt(s)+this._keyStr.charAt(l);return c},decode:function(t){var e,r,o,i,a,s,l,c="",u=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<t.length;)i=this._keyStr.indexOf(t.charAt(u++)),a=this._keyStr.indexOf(t.charAt(u++)),s=this._keyStr.indexOf(t.charAt(u++)),l=this._keyStr.indexOf(t.charAt(u++)),e=i<<2|a>>4,r=(15&a)<<4|s>>2,o=(3&s)<<6|l,c+=String.fromCharCode(e),64!=s&&(c+=String.fromCharCode(r)),64!=l&&(c+=String.fromCharCode(o));return c=n._utf8_decode(c)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e},_utf8_decode:function(t){for(var e,n,r,o="",i=0;i<t.length;)e=t.charCodeAt(i),e<128?(o+=String.fromCharCode(e),i++):e>191&&e<224?(n=t.charCodeAt(i+1),o+=String.fromCharCode((31&e)<<6|63&n),i+=2):(n=t.charCodeAt(i+1),r=t.charCodeAt(i+2),o+=String.fromCharCode((15&e)<<12|(63&n)<<6|63&r),i+=3);return o}};t.exports=n},function(t,e){"use strict";t.exports=function(t){var e,n=function(t,e,r){for(var o in e)hasOwnProperty.call(e,o)&&(r&&o in t&&"object"==typeof t[o]&&"object"==typeof e[o]?n(t[o],e[o],r):t[o]=e[o]);return t},r=arguments[t===!0?1:0];for(e=1;e<arguments.length;e++)r=n(r,arguments[e],t===!0);return r}},function(t,e){"use strict";t.exports=function(t,e,n){"string"==typeof t&&(t=[t]);for(var r,o=t.length,i=function(){var t=this.readyState;t&&!/ded|te/.test(t)||(o--,o||e&&e.call&&e())},a=0;a<o;a++){var s=t[a],l=document.head||document.getElementsByTagName("head")[0];if("script"===n||s.match(/\.js$/))r=document.createElement("script"),r.src=arguments[a],r.async=!0;else{if("css"!==n&&!s.match(/\.css$/))continue;r=document.createElement("link"),r.href=s,r.type="text/css",r.rel="stylesheet"}r.onload=i,l.appendChild(r)}}},function(t,e){"use strict";t.exports=function n(t,e){var r=[];for(var o in t)if(t.hasOwnProperty(o)){var i=e?e+"["+o+"]":o,a=t[o];r.push("object"==typeof a?n(a,i):encodeURIComponent(i)+"="+encodeURIComponent(a))}return r.join("&")}},function(t,e,n){"use strict";var r=n(11),o=n(2),i=n(21),a=n(4);t.exports=function(t,e){e=e||{};var n=[o.domains.api,"v"+o.apiVersion,t],s=a("oauth.token");e.data=e.data||{},e.data.api=1,e.data instanceof FormData||(e.headers={"Content-Type":"application/json"}),s&&(e.data instanceof FormData?e.data.append("access_token",s):e.data.access_token=s);for(var l=0;l<n.length;l++)n[l]=n[l].replace(/^\/|\/$/g,"");return e.url=n.join("/"),new r(function(t,n){var r=e.success,o=e.error;e.success=function(e){t(e),r&&r.call&&r(e)},e.error=function(t){n(t),o&&o.call&&o(t)},i(e)})}},function(t,e,n){"use strict";t.exports=n(12)},function(t,e,n){"use strict";t.exports=n(13),n(15),n(16),n(17),n(18),n(20)},function(t,e,n){"use strict";function r(){}function o(t){try{return t.then}catch(e){return v=e,y}}function i(t,e){try{return t(e)}catch(n){return v=n,y}}function a(t,e,n){try{t(e,n)}catch(r){return v=r,y}}function s(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("Promise constructor's argument is not a function");this._40=0,this._65=0,this._55=null,this._72=null,t!==r&&g(t,this)}function l(t,e,n){return new t.constructor(function(o,i){var a=new s(r);a.then(o,i),c(t,new p(e,n,a))})}function c(t,e){for(;3===t._65;)t=t._55;return s._37&&s._37(t),0===t._65?0===t._40?(t._40=1,void(t._72=e)):1===t._40?(t._40=2,void(t._72=[t._72,e])):void t._72.push(e):void u(t,e)}function u(t,e){m(function(){var n=1===t._65?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._65?d(e.promise,t._55):f(e.promise,t._55));var r=i(n,t._55);r===y?f(e.promise,v):d(e.promise,r)})}function d(t,e){if(e===t)return f(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"==typeof e||"function"==typeof e)){var n=o(e);if(n===y)return f(t,v);if(n===t.then&&e instanceof s)return t._65=3,t._55=e,void h(t);if("function"==typeof n)return void g(n.bind(e),t)}t._65=1,t._55=e,h(t)}function f(t,e){t._65=2,t._55=e,s._87&&s._87(t,e),h(t)}function h(t){if(1===t._40&&(c(t,t._72),t._72=null),2===t._40){for(var e=0;e<t._72.length;e++)c(t,t._72[e]);t._72=null}}function p(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function g(t,e){var n=!1,r=a(t,function(t){n||(n=!0,d(e,t))},function(t){n||(n=!0,f(e,t))});n||r!==y||(n=!0,f(e,v))}var m=n(14),v=null,y={};t.exports=s,s._37=null,s._87=null,s._61=r,s.prototype.then=function(t,e){if(this.constructor!==s)return l(this,t,e);var n=new s(r);return c(this,new p(t,e,n)),n}},function(t,e){(function(e){"use strict";function n(t){s.length||(a(),l=!0),s[s.length]=t}function r(){for(;c<s.length;){var t=c;if(c+=1,s[t].call(),c>u){for(var e=0,n=s.length-c;e<n;e++)s[e]=s[e+c];s.length-=c,c=0}}s.length=0,c=0,l=!1}function o(t){var e=1,n=new f(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}function i(t){return function(){function e(){clearTimeout(n),clearInterval(r),t()}var n=setTimeout(e,0),r=setInterval(e,50)}}t.exports=n;var a,s=[],l=!1,c=0,u=1024,d="undefined"!=typeof e?e:self,f=d.MutationObserver||d.WebKitMutationObserver;a="function"==typeof f?o(r):i(r),n.requestFlush=a,n.makeRequestCallFromTimer=i}).call(e,function(){return this}())},function(t,e,n){"use strict";var r=n(13);t.exports=r,r.prototype.done=function(t,e){var n=arguments.length?this.then.apply(this,arguments):this;n.then(null,function(t){setTimeout(function(){throw t},0)})}},function(t,e,n){"use strict";var r=n(13);t.exports=r,r.prototype["finally"]=function(t){return this.then(function(e){return r.resolve(t()).then(function(){return e})},function(e){return r.resolve(t()).then(function(){throw e})})}},function(t,e,n){"use strict";function r(t){var e=new o(o._61);return e._65=1,e._55=t,e}var o=n(13);t.exports=o;var i=r(!0),a=r(!1),s=r(null),l=r(void 0),c=r(0),u=r("");o.resolve=function(t){if(t instanceof o)return t;if(null===t)return s;if(void 0===t)return l;if(t===!0)return i;if(t===!1)return a;if(0===t)return c;if(""===t)return u;if("object"==typeof t||"function"==typeof t)try{var e=t.then;if("function"==typeof e)return new o(e.bind(t))}catch(n){return new o(function(t,e){e(n)})}return r(t)},o.all=function(t){var e=Array.prototype.slice.call(t);return new o(function(t,n){function r(a,s){if(s&&("object"==typeof s||"function"==typeof s)){if(s instanceof o&&s.then===o.prototype.then){for(;3===s._65;)s=s._55;return 1===s._65?r(a,s._55):(2===s._65&&n(s._55),void s.then(function(t){r(a,t)},n))}var l=s.then;if("function"==typeof l){var c=new o(l.bind(s));return void c.then(function(t){r(a,t)},n)}}e[a]=s,0===--i&&t(e)}if(0===e.length)return t([]);for(var i=e.length,a=0;a<e.length;a++)r(a,e[a])})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){t.forEach(function(t){o.resolve(t).then(e,n)})})},o.prototype["catch"]=function(t){return this.then(null,t)}},function(t,e,n){"use strict";function r(t,e){for(var n=[],r=0;r<e;r++)n.push("a"+r);var o=["return function ("+n.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(n).concat([s]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(i,t)}function o(t){for(var e=Math.max(t.length-1,3),n=[],r=0;r<e;r++)n.push("a"+r);var o=["return function ("+n.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+e+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+s+";","var res;","switch (argLength) {",n.concat(["extra"]).map(function(t,e){return"case "+e+":res = fn.call("+["self"].concat(n.slice(0,e)).concat("cb").join(",")+");break;"}).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],o)(i,t)}var i=n(13),a=n(19);t.exports=i,i.denodeify=function(t,e){return"number"==typeof e&&e!==1/0?r(t,e):o(t)};var s="function (err, res) {if (err) { rj(err); } else { rs(res); }}";i.nodeify=function(t){return function(){var e=Array.prototype.slice.call(arguments),n="function"==typeof e[e.length-1]?e.pop():null,r=this;try{return t.apply(this,arguments).nodeify(n,r)}catch(o){if(null===n||"undefined"==typeof n)return new i(function(t,e){e(o)});a(function(){n.call(r,o)})}}},i.prototype.nodeify=function(t,e){return"function"!=typeof t?this:void this.then(function(n){a(function(){t.call(e,null,n)})},function(n){a(function(){t.call(e,n)})})}},function(t,e,n){"use strict";function r(){if(l.length)throw l.shift()}function o(t){var e;e=s.length?s.pop():new i,e.task=t,a(e)}function i(){this.task=null}var a=n(14),s=[],l=[],c=a.makeRequestCallFromTimer(r);t.exports=o,i.prototype.call=function(){try{this.task.call()}catch(t){o.onerror?o.onerror(t):(l.push(t),c())}finally{this.task=null,s[s.length]=this}}},function(t,e,n){"use strict";var r=n(13);t.exports=r,r.enableSynchronous=function(){r.prototype.isPending=function(){return 0==this.getState()},r.prototype.isFulfilled=function(){return 1==this.getState()},r.prototype.isRejected=function(){return 2==this.getState()},r.prototype.getValue=function(){if(3===this._65)return this._55.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._55},r.prototype.getReason=function(){if(3===this._65)return this._55.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._55},r.prototype.getState=function(){return 3===this._65?this._55.getState():this._65===-1||this._65===-2?0:this._65}},r.disableSynchronous=function(){r.prototype.isPending=void 0,r.prototype.isFulfilled=void 0,r.prototype.isRejected=void 0,r.prototype.getValue=void 0,r.prototype.getReason=void 0,r.prototype.getState=void 0}},function(t,e,n){"use strict";var r=n(9);t.exports=function(t){var e,n=new XMLHttpRequest;t=t||{},n.dataType=t.dataType||"json",t.type=(t.type||"get").toLowerCase(),"get"===t.type&&t.data&&(t.url+="?"+r(t.data)),n.open(t.type,t.url,!0),n.onreadystatechange=function(){if(4==this.readyState)if(this.status>=200&&this.status<300||304===this.status){try{e="json"!=n.dataType?this.responseText:JSON.parse(this.responseText||null)}catch(r){console.error("Error parsing ajax response",r)}t.success&&t.success.call&&t.success(e)}else t.error&&t.error.call&&t.error({request:this,error:this.status})};for(var o in t.headers)n.setRequestHeader(o,t.headers[o]);!t.data||"get"===t.type||t.data instanceof FormData?t.data&&"get"!==t.type&&t.data instanceof FormData?n.send(t.data):n.send():n.send(JSON.stringify(t.data))}},function(t,e,n){"use strict";function r(t,e){var n=(d("oauth.gateway")||u.domains.gateway).replace(/\/$|$/,"/");return t&&(n+=t),e&&(n+="?"+h(e)),n}function o(t){return t!==!0&&y.authRequests[u.key]?y.authRequests[u.key]:(y.authRequests[u.key]=new g(function(t,e){function n(t){a(t.data)}y.requestId++;var o=document.createElement("iframe"),i=window.location.protocol+"//"+window.location.host,s=r("authorize",{s:"agent",t:y.requestId,origin:i,app_id:u.key});window.addEventListener("message",n),y.callbacks[y.requestId]=[t,e,n],document.body.appendChild(o),o.setAttribute("frameBorder","0"),o.setAttribute("allowtransparency","true"),o.setAttribute("src",s),o.style.display="none",o.style.height=0,o.style.width=0}),y.authRequests[u.key])}function i(t){t&&d("oauth.token",t)}function a(t){if("string"==typeof t){var e;try{t=p.decode(decodeURIComponent(t)),e=JSON.parse(t)}catch(n){}if(e){i(e.access_token);var r=y.callbacks[e.t];r&&(r[0](e),window.removeEventListener("message",r[2]),delete y.callbacks[e.t])}}}function s(t,e,n){var r=n||u.domains.gateway;f.open(r,{data:{style:"popup",s:t||"inline",p:"#",t:e,app_id:u.key}})}function l(t){return y.loginRequests[u.key]?y.loginRequests[u.key]:(y.loginRequests[u.key]=new g(function(e,n){function r(t){a(t.data)}y.requestId++,window.addEventListener("message",r),y.callbacks[y.requestId]=[e,n,r],t&&t!=d("oauth.gateway")&&t!=u.domains.gateway&&d("oauth.gateway",t),s("agent",y.requestId,t)}),y.loginRequests[u.key].then(function(){f&&f.close&&f.close()}),y.loginRequests[u.key])}function c(){return d("translator.inline")}var u=n(2),d=n(4),f=n(23),h=n(9),p=n(6),g=n(11),m=n(7),v=n(3),y=(window.location.protocol+"//"+window.location.host,{requestId:0,callbacks:{},authRequests:{},loginRequests:{}});t.exports=m({getLoginStatus:o,setToken:i,openLoginPopup:l,isInlineEnabled:c},v)},function(t,e,n){"use strict";function r(){return window.location.protocol+"//"+window.location.host}var o=n(24),i=n(9),a={border:0,width:"100%",borderRadius:"5px"},s={position:"fixed",top:"50%",left:"50%",width:"500px",height:"600px",marginLeft:"-250px",marginTop:"-200px",zIndex:10002},l={position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#000",zIndex:10001,opacity:.7},c={createFrame:function(){this.container=document.createElement("div"),this.overlay=document.createElement("div"),this.frame=document.createElement("iframe");for(var t in s)this.container.style[t]=s[t];for(var t in l)this.overlay.style[t]=l[t];for(var t in a)this.frame.style[t]=a[t];this.container.appendChild(this.frame),document.body.appendChild(this.container),document.body.appendChild(this.overlay)},open:function(t,e){this.frame&&this.close(),this.createFrame(),e.data=e.data||{},e.data.origin=r(),t+=(t.indexOf("?")>-1?"&":"?")+i(e.data),this.frame.src=t},close:function(){this.container&&(this.container.parentNode.removeChild(this.container),this.container=null,this.frame=null),this.overlay&&this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},resize:function(t){if(this.container&&this.frame){var e=this.container.style,n=this.frame.style;t.width&&(e.width=t.width+"px",e.marginLeft=-t.width/2+"px"),t.height&&(e.height=t.height+"px",e.marginTop=-t.height/2+"px",n.height=t.height+"px")}}};o.on("lightbox:resize",function(t){c.resize(t)}),o.on("lightbox:hide",function(t){c.close(t)}),t.exports=c},function(t,e,n){"use strict";function r(t){for(var e,n=document.getElementsByTagName("iframe"),r=0;r<n.length;r++){var o=n[r];if(o.contentWindow==t.source||o.contentWindow==t.source.parent){e=o;break}0==o.src.indexOf(t.origin)&&(e=o)}return e}var o=n(3),i=n(7),a={};i(a,o),window.addEventListener("message",function(t){if(t.data)try{var e=JSON.parse(t.data);if(e.source&&"tml"===e.source){var n=e.subject;e.action&&(n+=":"+e.action,delete e.action),delete e.source,delete e.subject,a.trigger(n,e,{frame:r(t)})}}catch(t){}}),t.exports=a},function(t,e,n){"use strict";function r(t){var e=[],n={};if("string"==typeof t){var r=t.toLowerCase().split("+");r.forEach(function(t){t.match("alt")?n.altKey=!0:t.match("ctrl|control")?n.ctrlKey=!0:t.match("meta")?n.metaKey=!0:t.match("shift")?n.shiftKey=!0:n.keyCode=a[t]||t.toUpperCase().charCodeAt(0)})}else n=t;return n.altKey&&e.push("alt"),n.ctrlKey&&e.push("ctrl"),n.metaKey&&e.push("meta"),n.shiftKey&&e.push("shift"),n.keyCode&&e.push(n.keyCode),e.join("+")}var o=n(7),i=n(3),a={backspace:8,tab:9,clear:12,enter:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":22};Trex.component("shortcuts",function(t){var e=o({},i),n={on:function(t,n){t&&e.on(r(t),n)},off:function(t,n){t&&e.off(r(t),n)}};return document.addEventListener("keyup",function(t){e.trigger(r(t))}),n})},function(t,e,n){"use strict";function r(t){t||(t=[]);for(var e=document.getElementsByTagName("tml:label"),n=0;n<e.length;n++){var r=e[n];t.indexOf(r.getAttribute("data-translation_key"))===-1&&s.removeClass(r,"tml_translatable")}}function o(t){c(t||d),c([{selector:".tml_ignored",rules:"border-bottom: 1px dotted gray;"}])}var i=n(24),a=(n(27),n(5)),s=n(28),l=n(30),c=n(29),u=n(10),d=[{selector:".tml_translatable.tml_not_translated",rules:"border-bottom: 1px dotted red;"},{selector:".tml_translatable.tml_translated",rules:"border-bottom: 1px dotted green;"},{selector:".tml_translatable.tml_fallback",rules:"border-bottom: 1px dotted #e90;"},{selector:".tml_translatable.tml_pending",rules:"border-bottom: 1px dotted #e90;"},{selector:".tml_translatable.tml_locked",rules:"border-bottom: 1px dotted blue;"},{selector:".tml_translatable.tml_language_case",rules:"padding:0px 2px; border: 1px dotted blue; border-radius: 2px;"},{selector:".tml_translatable.tml_token",rules:"padding:0px 2px; background: #eee; border: 1px dotted #ccc; border-radius: 2px; color: black;"}];Trex.component("translator-mode",function(t){function e(e,r){return u("/projects/"+t.key+"/translator",{type:"put",data:{app_id:t.key,inline:"boolean"==typeof e?e:!n("translator.inline"),locale:r||t.locale}})}var n;return Trex.ready(function(d){n=d,Trex.toggleTranslationMode=function(t,n,r){function o(t){return i(!0,t.language)}function i(t,i){return e(t,i||n).then(function(t){void 0!=typeof t.inline?(d("translator.features",t.translator.features),d("translator.inline",t.inline),d("translator.role",t.translator.role)):d("translator",null),t&&t.language&&d("locale",t.language.locale||t.language),r||t&&"unauthorized"!==t.status&&"access_denied"!==t.status&&"not_in_project"!==t.status?window.location.reload():Trex.auth.openLoginPopup(t.url).then(o)})["catch"](function(t){return r?void(403===t.error&&(d("oauth.token",null),d("translator",null))):(r=!0,Trex.auth.openLoginPopup(t.url).then(o))})}d("oauth.token")?i(t):Trex.auth.getLoginStatus(!r).then(function(e){if(e&&"authorized"===e.status)i(t);else{var n=d("translator.inline");if(d("translator",null),d("oauth.token",null),n)return void window.location.reload();r||e&&"unauthorized"!==e.status&&"access_denied"!==e.status&&"not_in_project"!==e.status||Trex.auth.openLoginPopup(e.url).then(o)}})},Trex.auth.on("authorized",function(e){if(t.locale!==e.language){var n=t.languages.filter(function(t){return t.locale===e.language});if(n.length)return Trex.switchLanguage(e.language)}e.order?u("/orders/"+e.order.id+"/sources/"+l(t.source)+"/translation_keys",{data:{app_id:t.key,all:!0,hashes:!0},success:function(n){if(n.results){var i=n.results.map(function(t){return t.key});r(t.locale==e.order.locale?i:null),o(t.css),window.tml&&tml.on("language-change",function(){window.location.reload()})}},error:function(t){console.error("agent: error fetching keys",t)}}):o(t.css),e.guide&&Trex.startTour(e.guide)}),Trex.require("shortcuts",function(e){var n=t.shortcuts||{};e.on(n.toggleTranslationMode,Trex.toggleTranslationMode)});var f;Trex.require("overlay-message",function(t){f=t}),i.on("cookie:set",function(t){a.set(t.name,t.value)}),i.on("widget:shutdown",function(t){Trex.toggleTranslationMode(!1)}),i.on("widget:style-inject",function(t){c(t.css,"tml-stylesheet")}),i.on("language_selector:toggle_inline_translations",function(){Trex.toggleTranslationMode()}),1===d("verifying")&&d("translator.inline")&&(d("verifying",0),u("/projects/"+t.key+"/checklist/verified_sdk",{type:"put",success:function(){setTimeout(function(){f.show('<b style="color: darkgreen">SDK activated!</b>',{title:"SDK Activation"})},2450)},error:function(t){console.log(t)}}),f.show("Activating SDK",{title:"SDK Activation"}),setTimeout(function(){f.show("Activating SDK.",{title:"SDK Activation"})},700),setTimeout(function(){f.show("Activating SDK..",{title:"SDK Activation"})},1400),setTimeout(function(){f.show("Activating SDK...",{title:"SDK Activation"})},2100));var h=s.parseQuery();h&&"verify"===h.te_a&&0!==d("verifying")&&(d("verifying",1),Trex.toggleTranslationMode(!0,h.te_l,!0)),h&&"inline"===h.te_a&&!d("translator.inline")&&Trex.toggleTranslationMode(!0,h.te_l,!0),window.Tml||(window.Tml={}),Tml.Utils||(Tml.Utils={}),Tml.Utils.toggleInlineTranslations||(Tml.Utils.toggleInlineTranslations=Trex.toggleTranslationMode)}),{changeLanguage:function(t){if(n("translator.inline"))return e(!0,t)}}})},function(t,e,n){"use strict";var r=n(28),o=n(29),i=n(7),a=n(3),s=(n(24),function(t){return t&&"divs"==t.type?new l(t):(this._attrs=i({},t),void this.init())});s.prototype={init:function(){this.attentionElem=document.createElement("DIV"),this.attentionElem.className="tml_attention",document.body.appendChild(this.attentionElem,document.body.firstChild),this.overlayElem=document.createElement("div"),this.overlayElem.className="tml_overlay",document.body.appendChild(this.overlayElem,document.body.firstChild)},toggleOverlay:function(t){this.overlayState="boolean"==typeof t?t:!this.overlayState,this.overlayState?(this.overlayElem.style.display="block",this.overlayElem.style.opacity=.8,this.trigger("overlay:show")):(this.overlayElem.style.display="none",this.trigger("overlay:hide"))},toggleAttention:function(t){this.attentionState="boolean"==typeof t?t:!this.attentionState,this.attentionState?(this.attentionElem.style.display="block",this.trigger("attention:show")):(this.attentionElem.style.display="none",this.trigger("attention:hide"),this.currentLabel&&r.removeClass(this.currentLabel,"tml_target_element"),this.currentLabelUnfix&&this.currentLabelUnfix())},pointToElement:function(t,e){function n(t,e,n){for(var r,o=0;o<t.length;o++){var i=t[o][e];r=o?Math[n](r,i):i}return r}var o=e.getClientRects(),i=o.length>1,a=10,s=a/2;if(i){var l=pageYOffset||(document.documentElement.clientHeight?document.documentElement.scrollTop:document.body.scrollTop);t=t||{},t.x=n(o,"left","min"),t.y=n(o,"top","min"),t.w=n(o,"right","max")-t.x,t.h=n(o,"bottom","max")-t.y,t.y=t.y+l}else t||(t=r.getBounds(e));this.attentionElem.style.left=t.x-s+"px",this.attentionElem.style.top=t.y-s+"px",this.attentionElem.style.width=t.w+a+"px",this.attentionElem.style.height=t.h+a+"px",this.currentLabel&&(r.removeClass(this.currentLabel,"tml_target_element"),this.currentLabelUnfix&&this.currentLabelUnfix());for(var c=e.parentNode,u=[];c&&1===c.nodeType;){var d=r.currentStyle(c,"zIndex"),f=r.currentStyle(c,"position");isNaN(d)&&"relative"!=f||(u.push(c),c.className+=" tml_fix_parent"),c=c.parentNode}u.length?this.currentLabelUnfix=function(){for(var t=0;t<u.length;t++){var e=u[t];r.removeClass(e,"tml_fix_parent")}this.currentLabelUnfix=null}.bind(this):this.currentLabelUnfix=null,this.currentLabel=e,this.currentLabel.className+=" tml_target_element"}},i(s.prototype,a),t.exports=s,Trex.component("overlay",function(t){return{Overlay:s}}),o([{selector:".tml_overlay",rules:"top: 0px;bottom: 0px;left: 0px;right: 0px;position: fixed;opacity: 0.8;z-index: 999996;opacity: 0;background: transparent radial-gradient(ellipse farthest-corner at center center , rgba(0, 0, 0, 0.4) 0px, rgba(0, 0, 0, 0.9) 100%) repeat scroll 0% 0%;transition: all 0.35s ease-out 0s;"},{selector:".tml_attention",rules:"top: -10000px;position: absolute;position: absolute;z-index: 999997;background-color: rgba(255, 255, 255, 0.9);border: 1px solid rgba(0, 0, 0, 0.5);border-radius: 4px;box-shadow: 0px 2px 15px rgba(0, 0, 0, 0.4);transition: all 0.35s ease-out 0s;"},{selector:".tml_target_element",rules:"position: relative; color: black !important; transition: all 0.35s ease-out 0s;"},{selector:".tml_side_cover",rules:"top: -10000px; position: absolute;z-index: 999996;opacity: 0;background: #33394E; transition: all 0.35s ease-out 0s;"},{selector:".tml_target_cover",rules:"top: -10000px; position: absolute;z-index: 999995;opacity: 0;background: rgba(255, 255, 255, 0.1); transition: all 0.35s ease-out 0s;"},{selector:".tml_fix_parent",rules:"z-index: auto !important; color: #929292 !important"}]);var l=function(t){this._attrs=i({},t),this.init()};l.prototype={init:function(){this.divs={};var t=this;if(["left","right","top","bottom"].forEach(function(e){var n=document.createElement("div");t.divs[e]=n,n.className="tml_side_cover cover_"+e,document.body.appendChild(n)}),this._attrs.maskTarget){var e=document.createElement("div");t.divs.target=e,e.className="tml_target_cover",document.body.appendChild(e)}},toggleOverlay:function(t){var e=this;t||Object.keys(this.divs).forEach(function(t){var n=e.divs[t];n.style.display="none"})},toggleAttention:function(t){t||(this.currentLabel&&r.removeClass(this.currentLabel,"tml_target_element"),this.currentLabelUnfix&&this.currentLabelUnfix())},pointToElement:function(t,e){function n(t,e,n){for(var r,o=0;o<t.length;o++){var i=t[o][e];r=o?Math[n](r,i):i}return r}var o=this,i=e.getClientRects(),a=i.length>1,s=10;if(a){var l=pageYOffset||(document.documentElement.clientHeight?document.documentElement.scrollTop:document.body.scrollTop);t.x=Math.floor(n(i,"left","min")),t.y=Math.floor(n(i,"top","min")),t.w=Math.floor(n(i,"right","max")-t.x),t.h=Math.floor(n(i,"bottom","max")-t.y),t.y=t.y+l}else t||(t=r.getBounds(e));var c=r.viewport();Object.keys(this.divs).forEach(function(e){function n(t){return t<0?0:t}var r=o.divs[e];if("left"==e||"right"==e)r.style.top=0,r.style.height=c.scroll+"px","left"==e?r.style.width=n((t.x||t.left)-s)+"px":(r.style.left=(t.x||t.left)+(t.w||t.width)+s+"px",r.style.width=n(c.width-(t.x||t.left)-(t.w||t.width))+"px");else if("top"==e||"bottom"==e)if(r.style.left=(t.x||t.left)-s+"px",r.style.width=n((t.w||t.width)+2*s)+"px","top"==e){r.style.top=0;var i=(t.y||t.top)-s;r.style.height=(i>0?i:0)+"px"}else{r.style.top=(t.y||t.top)+(t.h||t.height)+s+"px";var i=c.scroll-(t.y||t.top)-(t.h||t.height)-s;r.style.height=(i>0?i:0)+"px"}else"target"==e&&(r.style.left=(t.x||t.left)-s+"px",r.style.top=(t.y||t.top)-s+"px",r.style.width=(t.w||t.width)+2*s+"px",r.style.height=(t.h||t.height)+2*s+"px");r.style.display="block",r.style.opacity=.8}),this.trigger("overlay:show"),this.currentLabel&&(r.removeClass(this.currentLabel,"tml_target_element"),this.currentLabelUnfix&&this.currentLabelUnfix());for(var u=e.parentNode,d=[];u&&1===u.nodeType&&u!=document.body;){r.currentStyle(u,"zIndex"),r.currentStyle(u,"position");d.push(u),u.className+=" tml_fix_parent",u=u.parentNode}d.length?this.currentLabelUnfix=function(){for(var t=0;t<d.length;t++){var e=d[t];r.removeClass(e,"tml_fix_parent")}this.currentLabelUnfix=null}.bind(this):this.currentLabelUnfix=null,this.currentLabel=e,this.currentLabel.className+=" tml_target_element"}},i(l.prototype,a)},function(t,e){"use strict";
t.exports={nodeMatches:function(t,e){return t.matches&&t.matches(e)||t.webkitMatches&&t.webkitMatches(e)||t.mozMatches&&t.mozMatches(e)||t.msMatches&&t.msMatches(e)||t.matchesSelector&&t.matchesSelector(e)||!1},findClosest:function(t,e){for(;t&&!this.nodeMatches(t,e);)t=t.parentNode;return t},getBounds:function(t){var e=0,n=0,r=t,o=t.offsetWidth,i=t.offsetHeight;do e+=r.offsetTop||0,n+=r.offsetLeft||0,r=r.offsetParent;while(r);return{left:n,top:e,bottom:e+i,right:n+o,width:o,height:i}},hasOverlap:function(t,e){var n=this.getBounds(t),r=this.getBounds(e);return!(n.right<r.left||n.left>r.right||n.bottom<r.top||n.top>r.bottom)},hasClass:function(t,e){return new RegExp("(\\s|^)"+e+"(\\s|$)").test(t.className)},offsetRect:function(t){var e=t.getBoundingClientRect(),n=document.body,r=document.documentElement,o=window.pageYOffset||r.scrollTop||n.scrollTop,i=window.pageXOffset||r.scrollLeft||n.scrollLeft,a=r.clientTop||n.clientTop||0,s=r.clientLeft||n.clientLeft||0,l=e.top+o-a,c=e.left+i-s;return{left:Math.round(c),top:Math.round(l),width:t.offsetWidth,height:t.offsetHeight}},removeClass:function(t,e){this.hasClass(t,e)&&(t.className=t.className.replace(new RegExp("(\\s|^)"+e+"(\\s|$)")," "))},addClass:function(t,e){this.hasClass(t,e)||(t.className+=" "+e)},currentStyle:function(t,e){var n=window.getComputedStyle;return(n?n(t):t.currentStyle)[e.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()})]},viewport:function(){var t=window,e=document,n="inner",r=Math.max(e.body.scrollHeight,e.documentElement.scrollHeight,e.body.offsetHeight,e.documentElement.offsetHeight,e.body.clientHeight,e.documentElement.clientHeight);return"innerWidth"in window||(n="client",t=document.documentElement||document.body),{width:t[n+"Width"],height:t[n+"Height"],scroll:r,scrolled:document.body.scrollTop}},parseQuery:function(){for(var t=window.location.search.substring(1),e=t.split("&"),n={},r=0;r<e.length;r++){var o=e[r].split("=");n[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return n}}},function(t,e){"use strict";t.exports=function(t,e){var n=document.createElement("style");document.head.appendChild(n);var r=n.sheet;if(e){var o=document.getElementById(e);o&&o.parentNode.removeChild(o)}"string"==typeof t?n.innerHTML=t:t.forEach(function(t){r.insertRule?r.insertRule(t.selector+" {"+t.rules+"}",r.cssRules.length):r.addRule&&r.addRule(t.selector,t.rules)})}},function(t,e,n){"use strict";var r=n(31);t.exports=r},function(t,e,n){!function(){var e=n(32),r=n(33).utf8,o=n(34),i=n(33).bin,a=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?i.stringToBytes(t):r.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var s=e.bytesToWords(t),l=8*t.length,c=1732584193,u=-271733879,d=-1732584194,f=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[l>>>5]|=128<<l%32,s[(l+64>>>9<<4)+14]=l;for(var p=a._ff,g=a._gg,m=a._hh,v=a._ii,h=0;h<s.length;h+=16){var y=c,b=u,x=d,_=f;c=p(c,u,d,f,s[h+0],7,-680876936),f=p(f,c,u,d,s[h+1],12,-389564586),d=p(d,f,c,u,s[h+2],17,606105819),u=p(u,d,f,c,s[h+3],22,-1044525330),c=p(c,u,d,f,s[h+4],7,-176418897),f=p(f,c,u,d,s[h+5],12,1200080426),d=p(d,f,c,u,s[h+6],17,-1473231341),u=p(u,d,f,c,s[h+7],22,-45705983),c=p(c,u,d,f,s[h+8],7,1770035416),f=p(f,c,u,d,s[h+9],12,-1958414417),d=p(d,f,c,u,s[h+10],17,-42063),u=p(u,d,f,c,s[h+11],22,-1990404162),c=p(c,u,d,f,s[h+12],7,1804603682),f=p(f,c,u,d,s[h+13],12,-40341101),d=p(d,f,c,u,s[h+14],17,-1502002290),u=p(u,d,f,c,s[h+15],22,1236535329),c=g(c,u,d,f,s[h+1],5,-165796510),f=g(f,c,u,d,s[h+6],9,-1069501632),d=g(d,f,c,u,s[h+11],14,643717713),u=g(u,d,f,c,s[h+0],20,-373897302),c=g(c,u,d,f,s[h+5],5,-701558691),f=g(f,c,u,d,s[h+10],9,38016083),d=g(d,f,c,u,s[h+15],14,-660478335),u=g(u,d,f,c,s[h+4],20,-405537848),c=g(c,u,d,f,s[h+9],5,568446438),f=g(f,c,u,d,s[h+14],9,-1019803690),d=g(d,f,c,u,s[h+3],14,-187363961),u=g(u,d,f,c,s[h+8],20,1163531501),c=g(c,u,d,f,s[h+13],5,-1444681467),f=g(f,c,u,d,s[h+2],9,-51403784),d=g(d,f,c,u,s[h+7],14,1735328473),u=g(u,d,f,c,s[h+12],20,-1926607734),c=m(c,u,d,f,s[h+5],4,-378558),f=m(f,c,u,d,s[h+8],11,-2022574463),d=m(d,f,c,u,s[h+11],16,1839030562),u=m(u,d,f,c,s[h+14],23,-35309556),c=m(c,u,d,f,s[h+1],4,-1530992060),f=m(f,c,u,d,s[h+4],11,1272893353),d=m(d,f,c,u,s[h+7],16,-155497632),u=m(u,d,f,c,s[h+10],23,-1094730640),c=m(c,u,d,f,s[h+13],4,681279174),f=m(f,c,u,d,s[h+0],11,-358537222),d=m(d,f,c,u,s[h+3],16,-722521979),u=m(u,d,f,c,s[h+6],23,76029189),c=m(c,u,d,f,s[h+9],4,-640364487),f=m(f,c,u,d,s[h+12],11,-421815835),d=m(d,f,c,u,s[h+15],16,530742520),u=m(u,d,f,c,s[h+2],23,-995338651),c=v(c,u,d,f,s[h+0],6,-198630844),f=v(f,c,u,d,s[h+7],10,1126891415),d=v(d,f,c,u,s[h+14],15,-1416354905),u=v(u,d,f,c,s[h+5],21,-57434055),c=v(c,u,d,f,s[h+12],6,1700485571),f=v(f,c,u,d,s[h+3],10,-1894986606),d=v(d,f,c,u,s[h+10],15,-1051523),u=v(u,d,f,c,s[h+1],21,-2054922799),c=v(c,u,d,f,s[h+8],6,1873313359),f=v(f,c,u,d,s[h+15],10,-30611744),d=v(d,f,c,u,s[h+6],15,-1560198380),u=v(u,d,f,c,s[h+13],21,1309151649),c=v(c,u,d,f,s[h+4],6,-145523070),f=v(f,c,u,d,s[h+11],10,-1120210379),d=v(d,f,c,u,s[h+2],15,718787259),u=v(u,d,f,c,s[h+9],21,-343485551),c=c+y>>>0,u=u+b>>>0,d=d+x>>>0,f=f+_>>>0}return e.endian([c,u,d,f])};a._ff=function(t,e,n,r,o,i,a){var s=t+(e&n|~e&r)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},a._gg=function(t,e,n,r,o,i,a){var s=t+(e&r|n&~r)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},a._hh=function(t,e,n,r,o,i,a){var s=t+(e^n^r)+(o>>>0)+a;return(s<<i|s>>>32-i)+e},a._ii=function(t,e,n,r,o,i,a){var s=t+(n^(e|~r))+(o>>>0)+a;return(s<<i|s>>>32-i)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(a(t,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):e.bytesToHex(r)}}()},function(t,e){!function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;i<4;i++)8*r+6*i<=8*t.length?n.push(e.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}};t.exports=n}()},function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n},function(t,e){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&n(t.slice(0,0))}t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},function(t,e){"use strict";Trex.component("language-selector",function(t){var e;Trex.require("shortcuts",function(n){var r=t.shortcuts||{};n.on(r.openLanguageSelector,function(){if(e)e.shown?e.hide():e.runTemplate();else{var t=Trex.language_selectors.lightbox;e=new t,e.runTemplate()}})})})},function(t,e,n){"use strict";var r=n(28),o=(n(37),n(9)),i=n(24),a=n(4),s=n(6),l=n(38),c=n(29),u=n(10);c([{selector:".trex-popup-menu",rules:"z-index: 9999997; margin: 0 !important; padding: 0 !important; list-style-type: none !important; background:#283344;color:#fff;border-radius:3px !important;position:absolute !important;height:22px !important;width:auto !important;line-height:22px !important;"},{selector:".trex-popup-menu > li",rules:"list-style: none; display: inline-block !important; cursor:pointer;padding:0 6px !important;border-radius:3px;zoom:1; *display:inline;"},{selector:".trex-popup-menu > li:hover",rules:"background:#03a9f4"}]);var d=['<svg width="11px" height="11px" viewBox="0 0 11 11">','<g fill="#fff">','<path d="M0.7,7 L0.03,10.1 C0,10 -0.2,10.6 0.6,10.4 C1.3,10.1 3.3,9.7 3.3,9.7 L0.7,7 Z"></path>','<polygon points="1.1 6.7 3.7 9.3 9.4 3.5 6.8 0.9"></polygon>','<path d="M7.2,0.5 L9.8,3.1 C9.8,3.1 10.8,2.1 10,1.4 C9.3,0.6 9.7,1 8.9,0.3 C8.1,-0.5 7.2,0.5 7.2,0.5 Z"></path>',"</g>","</svg>"].join(""),f=['<svg width="11px" height="11px" viewBox="0 0 12 12">','<g transform="translate(-1, -2)" stroke="#FFFFFF" stroke-width="1.2" fill="none">','<ellipse cx="7.5" cy="8" rx="5" ry="5"></ellipse>','<path d="M11,4.4 L3.9,11.4"></path>',"</g>","</svg>"].join(""),h=['<svg width="9px" height="11px" viewBox="0 0 9 11" version="1.1">','<g fill="#FFFFFF">','<path d="M7.6,5.5 C7.8,5.5 7.9,5.6 8,5.7 C8.2,5.8 8.3,6 8.3,6.2 L8.25,10.3 C8.3,10.5 8.2,10.7 8,10.8 C7.9,10.9 7.8,11 7.6,11 L0.7,11 C0.5,11 0.3,10.9 0.2,10.8 C0.1,10.7 0,10.5 0,10.3 L0,6.2 C0,6 0.1,5.8 0.2,5.7 C0.3,5.6 0.5,5.5 0.7,5.5 L0.9,5.5 L0.9,3.2 C0.9,2.3 1.2,1.6 1.9,0.9 C2.5,0.3 3.2,0 4.1,0 C5,0 5.8,0.3 6.4,0.9 C7,1.6 7.3,2.3 7.3,3.2 C7.3,3.3 7.3,3.4 7.2,3.5 C7.1,3.6 7,3.7 6.9,3.7 L6.4,3.7 C6.3,3.7 6.2,3.6 6.1,3.5 C6,3.4 6,3.3 6,3.2 C6,2.7 5.8,2.3 5.4,1.9 C5.1,1.6 4.6,1.4 4.1,1.4 C3.6,1.4 3.2,1.6 2.8,1.9 C2.5,2.3 2.3,2.7 2.3,3.2 L2.3,5.5 L7.6,5.5 Z" ></path>',"</g>","</svg>"].join("");Trex.component("ng-translator",function(t){function e(t,e){var n=document.querySelectorAll("[data-translation_key='"+t+"']");Array.prototype.forEach.call(n,e)}var n=420,c=600,p={translation_key:null,containerOrigin:null,clickPos:null,translatable_nodes:[],translatable_node:null,tab_through_untranslated:!0,tap_and_hold_enabled:"ontouchstart"in window||!!navigator.msMaxTouchPoints,init:function(t){function e(t){i.popupEl||(i.popupEl=document.createElement("ul"),i.popupEl.className="trex-popup-menu",document.body.appendChild(i.popupEl));var e=r.offsetRect(t),n=t.className.indexOf("tml_translated")>-1||t.className.indexOf("tml_locked")>-1;i.popupEl.innerHTML=["<li onclick=\"Trex.openPhrase('"+t.getAttribute("data-translation_key").trim()+"', '"+t.getAttribute("data-target_locale").trim()+"')\">"+d+"</li>",m?"<li onclick=\"Trex.ignorePhrase('"+t.getAttribute("data-translation_key").trim()+"')\">"+f+"</li>":"",v&&n?"<li onclick=\"Trex.lockPhrase('"+t.getAttribute("data-translation_key").trim()+"', '"+t.getAttribute("data-target_locale").trim()+"')\">"+h+"</li>":""].join(""),i.popupEl.style.top=e.top-22+"px",i.popupEl.style.left=e.left+"px",i.popupEl.style.display="block",i.popupEl.style.width="auto"}function n(){i.popupEl&&(i.popupEl.style.display="none")}function o(t,e){if("function"==typeof e){if(e(t))return t}else if(t===e)return t;if(t.parentNode)return o(t.parentNode,e)}var i=this;document.addEventListener("contextmenu",function(t){return i.open(t),!1}),this.role=t;var s=!1;if(i.tap_and_hold_enabled){document.addEventListener("mousedown",function(t){s=!1,i.mouseDownTimer=setTimeout(function(){s=!0,i.open(t)},c)}),document.addEventListener("mouseup",function(t){clearTimeout(i.mouseDownTimer),delete i.mouseDownTimer}),document.addEventListener("click",function(t){if(clearTimeout(i.mouseDownTimer),s)return t.stopPropagation(),t.preventDefault(),!1},!0);var l=function(){return clearTimeout(i.touchStartTimer),!1};document.body.addEventListener("touchcancel",l),document.body.addEventListener("touchleave",l),document.body.addEventListener("touchmove",l),document.body.addEventListener("touchend",l),document.body.addEventListener("touchstart",function(t){return i.touchStartTimer=setTimeout(function(){s=!0,i.open(t)},c),!1})}var u,p,g=a("translator.role"),m="developer"==g||"admin"==g,v="developer"==g||"admin"==g||"proofreader"==g;document.addEventListener("mouseover",function(t){t.target&&(p=o(t.target,function(t){return"string"==typeof t.className&&(t.className.indexOf("tml_translatable")>-1||t.className.indexOf("tml_ignored")>-1)}))?(u&&clearTimeout(u),e(p),t.preventDefault(),t.stopPropagation()):o(t.target,i.popupEl)&&(t.preventDefault(),t.stopPropagation(),u&&clearTimeout(u))}),document.addEventListener("mouseout",function(t){t.target!==i.popupEl||o(t.target,i.popupEl)?t.target&&!o(t.target,function(t){return"string"==typeof t.className&&(t.className.indexOf("tml_translatable")>-1||t.className.indexOf("tml_ignored")>-1)})&&(u&&clearTimeout(u),u=setTimeout(n,100),t.preventDefault(),t.stopPropagation()):(u&&clearTimeout(u),u=setTimeout(n,100),t.preventDefault(),t.stopPropagation())})},open:function(t){this._clearSelection();var e=r.findClosest(t.target,".tml_translatable"),n=r.findClosest(t.target,".tml_language_case"),o=r.findClosest(t.target,"a");if(this.translatable_node=e,e||n){o&&this._preventLink(o),t&&(t.preventDefault(),t.stopPropagation()),this.clickPos={x:t.pageX,y:t.pageY};var i=n||e;this.translation_key=i.getAttribute("data-translation_key");var s=a("widget.attached");this.widget.isOpen()&&s?this.widget.selectPhrase(this.translation_key,s):this._show(i,!!n)}},nextPhrase:function(t){this._gotoPhrase(1,t&&t.plainNext)},previousPhrase:function(t){this._gotoPhrase(-1,t&&t.plainNext)},hide:function(){this.panel&&(this.panel.hide(),window.removeEventListener("keyup",this.escapeHandler),i.off("lightbox:resize",this.lightboxResize),i.off("lightbox:hide",this.lightboxHide))},resize:function(t){t.remember&&t.width&&(n=t.width),this.panel.resize({width:t.width,height:t.height})},update:function(t){if(t.translation){var e="[data-translation_key='"+t.translation_key+"']";t.target_locale&&(e=e+"[data-target_locale='"+t.target_locale+"']");for(var n=document.querySelectorAll(e),r=0;r<n.length;r++)n[r].innerHTML=t.translation,n[r].classList.remove("tml_not_translated"),n[r].classList.add("tml_translated"),t.pending?n[r].classList.add("tml_pending"):t.locked&&n[r].classList.add("tml_locked")}},_show:function(t,e,o){var a=this,s=r.offsetRect(t);this.containerOrigin={x:o?s.left:this.clickPos.x-42,y:s.top+s.height};var c="left";this.containerOrigin.x>window.innerWidth/2&&(this.containerOrigin.x=this.containerOrigin.x-n+110,c="right"),window.scrollTo(s.left,s.top-100);var u=this._buildUrl(t,e,c);this.panel||(this.panel=new l),this.panel._setOrigin(u),this.panel.render({url:u,left:this.containerOrigin.x,top:this.containerOrigin.y,width:n,fixed:!1,margin:0,style:{opacity:.99}}),this.lightboxResize=function(t,e){e===a.panel._frame&&a.resizeAndCenter(t)},this.lightboxHide=function(t,e){e===a.panel._frame&&a.hide(t)},i.on("lightbox:resize",this.lightboxResize),i.on("lightbox:hide",this.lightboxHide),this.loaded=!0,this.escapeHandler=function(t){27==t.keyCode&&a.hide()},window.addEventListener("keyup",this.escapeHandler)},_showFromEvent:function(t){this.translation_key=t.key;var e=document.querySelectorAll("[data-translation_key='"+t.key+"']");if(e.length)return this.widget.isOpen()&&a("widget.attached")?this.widget.selectPhrase(this.translation_key,!0):(this.translatable_node=r.findClosest(e[0],".tml_translatable"),this._show(e[0],!1,!0));var o=r.viewport(),s=Math.floor(o.height/2-300+o.scrolled);s=s<0?10:s,this.containerOrigin={x:Math.floor(o.width/2-n/2),y:s};var c={},u="#/";u+="translator/"+this.translation_key+"/pick-translation",c={locale:t.locale},c.stem="side",c.agent=1,u=this._toURL(u,c),this.panel||(this.panel=new l),this.panel._setOrigin(u),this.panel.render({url:u,left:this.containerOrigin.x,top:this.containerOrigin.y,width:n,fixed:!1}),this.lightboxResize=function(t,e){e===self.panel._frame&&self.resizeAndCenter(t)},this.lightboxHide=function(t,e){e===self.panel._frame&&self.hide(t)},i.on("lightbox:resize",this.lightboxResize),i.on("lightbox:hide",this.lightboxHide),this.loaded=!0,this.escapeHandler=function(t){27==t.keyCode&&self.hide()},window.addEventListener("keyup",this.escapeHandler)},sendAuth:function(t){this.panel.sendMessage({subject:"auth",auth:t})},_buildUrl:function(t,e,n){var r,o={},i="#/";return e?(i+="language_case",o={locale:t.getAttribute("data-locale"),rule:t.getAttribute("data-rule"),role:this.role}):(i+="translator/"+this.translation_key+"/pick-translation",r=this._findChildTokens(t),o={locale:t.getAttribute("data-target_locale"),role:this.role},r&&r.length&&(o.tokens=encodeURIComponent(s.encode(JSON.stringify(r)))),o.stem=n),o.agent=1,this._toURL(i,o)},_toURL:function(e,n){n=n||{},n.app_id=t.key;a("oauth.token");e.indexOf("locale")==-1&&!n.locale&&Tml.locale&&(n.locale=t.locale);var r=(window.location+"").split("/");return n.origin=r[0]+"//"+r[2],this.loadedAt=this.loadedAt||(new Date).getTime(),e=t.domains.tools.replace(/$|\/$/,"/")+("index.html?"+this.loadedAt)+e+(e.indexOf("?")==-1?"?":"&")+o(n)},_clearSelection:function(){window.getSelection?(window.getSelection().empty&&window.getSelection().empty(),window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges()):document.selection&&document.selection.empty()},_preventLink:function(t){var e=t.href,n=t.onclick;t.href="javascript://;",t.onclick=void 0,setTimeout(function(){t.href=e,t.onclick=n},500)},_lookupCoords:function(t){for(var e={x:t.getBoundingClientRect().left+t.getBoundingClientRect().width/2,y:t.getBoundingClientRect().top};0==e.x&&0==e.y&&t.parentNode;)t=t.parentNode,e={x:t.getBoundingClientRect().left+t.getBoundingClientRect().width/2,y:t.getBoundingClientRect().top};return 0==e.x&&(e.x=50),0==e.y&&(e.y=50),e},_gotoPhrase:function(t,e){t||(t=0);var n=document.getElementsByClassName("tml_translatable"),o=Array.prototype.slice.call(n,0),i=o.indexOf(this.translatable_node);if(i!=-1){if(this.tab_through_untranslated&&!e)for(var a=!1,s=i+t;!a;){s>o.length-1&&(s=0),s<0&&(s=o.length-1);var l=o[s];if(l==this.translatable_node){i=i==o.length-1?0:i+t;break}r.hasClass(l,"tml_not_translated")?(a=!0,i=s):s+=t}else{var c=i+t>o.length-1,u=i+t<0;i=c?0:u?o.length-1:i+t}this.translatable_node=o[i],this.translation_key=this.translatable_node.getAttribute("data-translation_key"),this.click_coords=this._lookupCoords(this.translatable_node),this._show(this.translatable_node,!1,!0)}},_findChildTokens:function(t){var e=t.getElementsByTagName("tml:token"),n=Array.prototype.slice.call(e,0);return Array.prototype.map.call(n,function(t){return{name:t.dataset.name,value:t.innerHTML}})},resizeAndCenter:function(t){this.panel.render({width:t.width,height:t.height,fixed:!0}),this.panel.center()}};return Trex.ready(function(t){Trex.require("widget",function(e){p.widget=e,t("translator.inline")&&p.init(t("translator.role")),i.on("translator:resize",p.resize.bind(p)),i.on("translator:phrase-load",function(t){e.isOpen()&&e.selectPhrase(t.id)}),i.on("widget:open-phrase",function(n){e.isOpen()&&e.selectPhrase(n.key,n.attach),n.attach&&t("widget.attached",!0)}),i.on("translator:open-phrase",function(e){"undefined"!=typeof e.attach&&t("widget.attached",e.attach),p._showFromEvent(e)}),i.on("translator:next",function(n){e.isOpen()&&t("widget.attached")?e.nextPhrase():t("translator.inline")&&p.nextPhrase(n)}),i.on("translator:previous",function(n){e.isOpen()&&t("widget.attached")?e.prevPhrase():t("translator.inline")&&p.previousPhrase(n)}),i.on("translator:auth",function(){Trex.auth.getLoginStatus(!0).then(function(t){t&&"unauthorized"!==t.status&&"access_denied"!==t.status&&"not_in_project"!==t.status?p.sendAuth(t):Trex.auth.openLoginPopup(t.url).then(function(t){t&&"authorized"===t.status&&p.sendAuth(t)})})}),i.on("translator:hide",p.hide.bind(p)),i.on("translation:update",p.update.bind(p))})}),Trex.openPhrase=function(t){"object"!=typeof t&&(t={key:arguments[0],locale:arguments[1]}),p._showFromEvent(t)},Trex.ignorePhrase=function(n){function r(e){return u(e,{type:"post",data:{app_id:t.key}})}var o=document.querySelector("[data-translation_key='"+n+"']").classList.contains("tml_ignored");o?r("/projects/"+t.key+"/translation_keys/"+n+"/unignore").then(e.bind(null,n,function(t){t.classList.remove("tml_ignored"),t.classList.add("tml_translatable")})):r("/projects/"+t.key+"/translation_keys/"+n+"/ignore").then(e.bind(null,n,function(t){t.classList.add("tml_ignored"),t.classList.remove("tml_translatable")}))},Trex.lockPhrase=function(n,r){function o(e){return u(e,{type:"post",data:{app_id:t.key,locale:r}})}var i=document.querySelector("[data-translation_key='"+n+"'][data-target_locale='"+r+"']").classList.contains("tml_locked");i?o("/projects/"+t.key+"/translation_keys/"+n+"/unlock").then(e.bind(null,n,function(t){t.classList.remove("tml_locked"),t.classList.add("tml_translated")})):o("/projects/"+t.key+"/translation_keys/"+n+"/lock").then(e.bind(null,n,function(t){t.classList.add("tml_locked"),t.classList.remove("tml_translated")}))},{openPhrase:function(t){p._showFromEvent(t)}}})},function(t,e,n){function r(){d(document.body,"dragstart",i),d(document.body,"drop",c),d(document.body,"dragenter",l),d(document.body,"dragleave",u),d(document.body,"dragend",a);var t=document.getElementsByTagName("tml:label");[].forEach.call(t,function(t){t.setAttribute("draggable",!0)})}function o(){f(document.body,"dragstart",i),f(document.body,"dragend",a);var t=document.getElementsByTagName("tml:label");[].forEach.call(t,function(t){t.setAttribute("draggable",!1)})}function i(t){t.target.className&&t.target.className.indexOf("tml_translatable")>-1&&(t.dataTransfer.setData("text/plain",t.target.getAttribute("data-translation_key")),g.dragging=t.target,m.trigger("dragging-tml",t.target))}function a(t){g.dragging&&m.trigger("stop-dragging-tml")}function s(t){return t.preventDefault(),t.stopPropagation(),!1}function l(t){t.target===g.widgetMask&&(t.preventDefault(),m.trigger("tml-over-widget",t.target))}function c(t){if(g.dragging)return m.trigger("dropping-tml",{key:g.dragging.getAttribute("data-translation_key")}),g.dragging=null,m.trigger("stop-dragging-tml"),t.preventDefault(),t.stopPropagation(),!1}function u(t){t.target===g.widgetMask&&m.trigger("dragging-tml",t.target)}function d(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}function f(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)}var h=n(3),p=n(7),g={state:!1,widgetFrame:null},m=p({getState:function(){return g.state},isDragging:function(){return!!g.dragging},toggleMode:function(t,e){t="boolean"==typeof t?t:!g.state,g.state=t,console.log("order mode is now "+(t?"on":"off")),t?(g.widgetFrame=e,r()):(o(),g.widgetFrame=null)},setMaskElem:function(t){g.widgetMask=t,d(t,"drop",c),d(t,"dragover",s)}},h);t.exports=m},function(t,e,n){"use strict";function r(t,e,n){var r,o;for(r in e)o=e[r],void 0!==o&&(t[r]=null===o?n||"":"string"==typeof o?o:parseInt(o)+"px")}var o=n(28),i=n(7),a=n(3),s=n(24),l=9999999,c=function(){this._dockables={},this._undockedDimensions={}};c.prototype={fixed:!1,reset:function(){this.render({x:0,y:0,left:"auto",right:"auto",bottom:"auto",top:"auto",width:0,height:0})},render:function(t,e){this._frame&&document.contains(this._frame)||(this._frame=document.createElement("iframe"),this._registerHandlers(),document.body.appendChild(this._frame)),e&&this.reset();var n=this._frame.style;return t.fixed&&(this.fixed=t.fixed),r(n,{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width,height:t.height,margin:t.margin,padding:t.padding,minWidth:t.minWidth,maxWidth:t.maxWidth,position:this.fixed?"fixed":"absolute",transition:t.transition?t.transition:"none",border:0,display:"block",background:"rgba(0,0,0,0)"}),n.zIndex=l,t.url&&t.url!==this._frame.src?this._frame.src=t.url:t.template&&(this._frame.contentWindow.document.open(),this._frame.contentWindow.document.write(t.template),this._frame.contentWindow.document.close()),this.visible=!0,this},center:function(){if(this._frame){var t=o.getBounds(this._frame);this.render({left:Math.max(0,(window.innerWidth-t.width)/2),top:Math.max(0,(window.innerHeight-t.height)/2)})}},hide:function(){this._frame&&(this.visible=!1,this._frame.style.display="none")},resize:function(t){this._resize(t)},close:function(){this._close()},sendMessage:function(t){this._frame.contentWindow.postMessage(t,this.origin)},addDockable:function(t,e,n,o){var a=document.createElement("div");r(a.style,i(e,{position:"fixed"})),this._dockables[t]={el:a,attrs:n,undocked_attrs:o}},removeDockable:function(t){delete this._dockables[t]},dock:function(t){this._dock({name:t})},undock:function(){this._undock()},_currentDock:null,_registerHandlers:function(){if(this._frame){var t=this;"dragstart,dragend,dragmove,dragresize,resize,move,close,render,dock".split(",").forEach(function(e){s.on("panel:"+e,function(n,r){r.frame&&r.frame==t._frame&&t["_"+e](n)})})}},_dragstart:function(t){var e=this;this._frame.style.zIndex=l++,this._dragData={x:t.x,y:t.y,type:t.type,width:this._frame.offsetWidth,height:this._frame.offsetHeight},this._dragmoveHandler=function(n){e["_drag"+t.type](n)},this._dragendHandler=function(t){e._dragend(t)},document.addEventListener("mousemove",this._dragmoveHandler),document.addEventListener("mouseup",this._dragendHandler)},_dragmove:function(t){if(this._dragData){var e,n;if(t instanceof MouseEvent)e=t.pageX-this._dragData.x,n=t.pageY-this._dragData.y,this.fixed&&(e-=window.scrollX,n-=window.scrollY);else{var r=o.getBounds(this._frame);e=r.left-(this._dragData.x-t.x),n=r.top-(this._dragData.y-t.y)}this.render({left:e,top:n}),this.trigger("drag:move")}},_dragresize:function(t){var e,n;if(t instanceof MouseEvent){var r=o.getBounds(this._frame);e=this._dragData.width+(t.pageX-this._dragData.x-r.left),n=this._dragData.height+(t.pageY-this._dragData.y-r.top),this.fixed&&(e-=window.scrollX,n-=window.scrollY)}else e=this._dragData.width-(this._dragData.x-t.x),n=this._dragData.height-(this._dragData.y-t.y);this.render({width:e,height:n}),this.trigger("drag:resize")},_dragend:function(t){document.removeEventListener("mousemove",this._dragmoveHandler),document.removeEventListener("mouseup",this._dragendHandler);var e=this._findDock();e?this.dock(e):this.currentDock&&this.undock(),this._dragData=null,this.trigger("drag:end")},_findDock:function(){var t,e,n,r=document.body;for(t in this._dockables)if(e=this._dockables[t],r.appendChild(e.el),n=o.hasOverlap(e.el,this._frame),r.removeChild(e.el),n)return t;return!1},_render:function(t){this.render(t)},_resize:function(t){this.visible&&this.render({width:t.width,height:t.height})},_move:function(t){this.visible&&this.render({left:t.x||t.left,top:t.y||t.top,right:t.right,bottom:t.bottom})},_close:function(){this.visible&&(this._frame&&document.body.removeChild(this._frame),this.trigger("close"))},_dock:function(t){var e=this._dockables[t.name];e&&(this.currentDock||(this._undockedDimensions={width:this._frame.offsetWidth,height:this._frame.offsetHeight}),this.render(e.attrs,!0),this.currentDock=t.name,this.trigger("docked",t.name))},_undock:function(){var t=this._dockables[this.currentDock];this.render(i(this._undockedDimensions,t.undocked_attrs)),this.currentDock=null,this.trigger("undocked")},_setOrigin:function(t){var e=(t+"").split("/"),n=e[0]+"//"+e[2];this.origin=n}},i(c.prototype,a),t.exports=c},function(t,e,n){"use strict";var r=n(23);Trex.component("metrics",function(t){var e={open:function(){var e=t.domains.tc+"/tools/utils/metrics";r.open(e,{data:{source:encodeURIComponent(t.current_source||""),app_id:t.key}})},close:function(){r.close()}};return Trex.require("shortcuts",function(n){var r=t.shortcuts||{};n.on(r.openMetrics,e.open)}),e})},function(t,e,n){"use strict";var r=(n(28),n(8)),o=(n(9),n(4));n(24),n(6),n(38);Trex.component("ls-wrapper",function(t){Trex.require("translator-mode",function(e){function i(e){e=e||{};for(var n,r=0;r<t.languages.length;r++){var o=t.languages[r];if(o.locale===t.locale){n=o;break}}n=n||t.languages[0],e.filterer=function(t){return t},e.flag=e.flag||!0,e.current_language=n;var i={opts:e,languages:t.languages};return i}function a(t,e){e=e||{},e.path="string"!=typeof e.path||e.path.length?e.path:"/";var n=t.protocol+"//";return n+=e.domain?e.domain:t.host,n+=e.path?e.path:t.pathname,n+="string"==typeof e.param?e.param:t.search,n+=t.hash}function s(e){if(window.tml&&t.config&&t.config.refreshHandled)return void window.tml.changeLanguage(e);var n={},r=t.locale_strategy||{strategy:"param",redirect:!0},o=e===r["default"]&&r.skip_default,i=window.tml&&window.tml.tokenizer&&window.tml.tokenizer.updateAllNodes;if("redirect"in r||(r.redirect=!0),r.strategy||(r.strategy="param"),"pre-path"==r.strategy){var s=document.location.pathname;if(r.prefix){var u=new RegExp("^"+r.prefix.replace("/","/"));s=s.replace(u,"")}s=s.split("/"),s[1]&&s[1].match(c)?o?(s.splice(1,1),n.path=s.join("/")):(s.splice(1,1,e),n.path=s.join("/")):(o||s.splice(1,0,e),n.path=s.join("/")),r.prefix&&(n.path=["",r.prefix.replace(/^\//,""),n.path.replace(/^\//,"")].join("/"))}else if("param"==r.strategy){var d=new RegExp("(&?)"+(r.param||"locale")+"="+l);document.location.search.match(d)?o?n.param=document.location.search.replace(d,""):n.param=document.location.search.replace(d,"$1"+(r.param||"locale")+"="+e):o||(n.param=document.location.search+=(document.location.search.indexOf("?")>-1?"&":"?")+(r.param||"locale")+"="+e)}else if("pre-domain"==r.strategy){var f=new RegExp("^"+l+"\\."),h=document.location.hostname.match(f),p=new RegExp("^"+r.default_subdomain+"\\."),g=document.location.hostname.match(p);h||g?o?n.domain=document.location.host.replace(h?f:p,r.default_subdomain?r.default_subdomain+".":""):n.domain=document.location.host.replace(h?f:p,e+"."):o?r.default_subdomain&&(n.domain=r.default_subdomain+"."+document.location.host):n.domain=e+"."+document.location.host}else"custom-domain"==r.strategy&&(n.domain=r.mapping[e],!n.domain&&r["default"]&&(n.domain=r.mapping[r["default"]]));if(["param","pre-path"].indexOf(r.strategy)>-1&&i&&!r.redirect){var m=tml.getCurrentLanguage().locale;return window.tml.changeLanguage(e),history.replaceState({locale:m},document.title,window.location.href),void history.pushState({locale:e},document.title,a(window.location,n))}if(Object.keys(n).length)"?"===n.param&&(n.param=""),window.location.href=a(window.location,n);else{if(i)return;window.location.reload()}}Trex.language_selectors=Trex.language_selectors||{};var l="([a-z]{2})(-[A-Z]{2,3})?",c=new RegExp("^"+l+"$");window.addEventListener("popstate",function(t){t.state&&t.state.locale&&tml.changeLanguage(t.state.locale)}),Trex.switchLanguage=function(t){if(!t)throw new Error("a locale is required");o("locale",t);var n=e.changeLanguage(t);return n&&n.then?n.then(s.bind(null,t)):s(t)};var u={type:"tml-language-selector",element:"tml-language-selector-element",poweredBy:"tml-powered-by",toggle:"tml-toggle",toggleLabel:"tml-toggle-label",refresh:"tml-refresh",hover:"tml-hover",language:"tml-language",iconLanguage:"tml-icon-language",filteredLangs:"tml-show-languages",side:"tml-side"},d={},f=function(e,n){var o=t.domains.ls;"production"==Trex.env?o+="/stable":"staging"==Trex.env?o+="/staging":"sandbox"==Trex.env&&(o+="/sandbox"),o=o+"/"+e,o=o+"/bundle.js?agent_ver="+Trex.version,r(o,function(){d[e]=1,n&&n.call&&n()},"script")},h=function(t){var e=Object.keys(u);return e.reduce(function(e,n){var r=t.getAttribute("data-"+u[n]);return r&&(e[n]=r),e},{})};Trex.language_selectors.transformElem=function(t){var e=h(t),n=e.type||"lightbox";d[n]?p(t,n,e):f(n,function(){p(t,n,e)})};var p=function(t,e,n){var r=Trex.language_selectors[e],o=i(n),a=new r(t,o);a.runTemplate()},g=function(){var t=document.querySelectorAll("[data-tml-language-selector], [tml-language-selector]");
[].forEach.call(t,Trex.language_selectors.transformElem)};Trex.language_selectors._overlay=n(27),f("lightbox",function(){Trex.language_selectors.lightbox.prototype.defaultParams=i({show_native:!1})}),g()})})},function(t,e,n){function r(){return o?o:o=new i(function(t){s(t)})}var o,i=n(11),a=(n(10),n(30),n(24)),s=n(42);Trex.ready(function(t){Trex.require("widget",function(t){Trex.component("screenshot",function(e){function n(){return r().then(function(e){return e.takeScreenshot().then(function(e){e.canvas.toBlob(function(n){t.sendScreenshot(n,e.keys)},"image/png",1)})})}return a.on("widget:take-screenshot",function(){n()}),Trex.takeShot=n,{takeScreenshot:n}})})})},function(t,e,n){t.exports=function(t){n.e(1,function(e){t(n(43))})}},,,function(t,e,n){var r=n(46),o=n(29),i=(n(28),n(24));o([{selector:"body.picking *",rules:"cursor: crosshair !important"},{selector:"body.picking .tmls-over",rules:"background-color: rgba(255, 255, 0, 0.3)"}]);var a;Trex.component("element-picker",function(t){function e(){window.addEventListener("keydown",o.escapeHandler),window.addEventListener("click",o.clickHandler),window.addEventListener("mouseover",o.hoverHandler)}function n(){window.removeEventListener("keydown",o.escapeHandler),window.removeEventListener("click",o.clickHandler),window.removeEventListener("mouseover",o.hoverHandler)}var o={startPicking:function(t){document.body.classList.add("picking"),e()},stopPicking:function(){document.body.classList.remove("picking"),n(),a.stopPicking()},sendElement:function(t){a.sendPickedElement(t)},hoverHandler:function(t){o.target&&o.target.classList.remove("tmls-over"),o.target=t.target,o.target.classList.add("tmls-over")},clickHandler:function(t){if(o.target){o.target.classList.remove("tmls-over");var e=r.select(o.target,{priority:["id","class","href","src"],ignore:{"class":"tmls-over"}});o.sendElement(e)}t.preventDefault(),t.stopPropagation(),o.stopPicking()},escapeHandler:function(t){27==t.keyCode&&(t.stopPropagation(),t.preventDefault(),o.stopPicking())}};window.picker=o,Trex.ready(function(t){Trex.require("widget",function(t){a=t,i.on("widget:element-picker",function(t){o.startPicking(t.section)}),i.on("widget:stop-picking",function(t){o.stopPicking()})})})})},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=e.common=e.optimize=e.getMultiSelector=e.getSingleSelector=e.select=void 0;var i=n(47);Object.defineProperty(e,"getSingleSelector",{enumerable:!0,get:function(){return i.getSingleSelector}}),Object.defineProperty(e,"getMultiSelector",{enumerable:!0,get:function(){return i.getMultiSelector}});var a=o(i),s=n(51),l=o(s),c=n(52),u=r(c);e.select=a["default"],e.optimize=l["default"],e.common=u,e["default"]=a["default"]},function(t,e,n){(function(t){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(3===e.nodeType&&(e=e.parentNode),1!==e.nodeType)throw new Error('Invalid input - only HTMLElements or representations of them are supported! (not "'+("undefined"==typeof e?"undefined":l(e))+'")');var r=(0,u["default"])(e,n),o=(0,f["default"])(e,n),i=(0,p["default"])(o,e,n);return r&&delete t.document,i}function i(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(e)||(e=(0,g.convertNodeList)(e)),e.some(function(t){return 1!==t.nodeType}))throw new Error("Invalid input - only an Array of HTMLElements or representations of them is supported!");var r=(0,u["default"])(e[0],n),i=(0,m.getCommonAncestor)(e,n),s=o(i,n),l=a(e),c=l[0],d=(0,p["default"])(s+" "+c,e,n),f=(0,g.convertNodeList)(document.querySelectorAll(d));return e.every(function(t){return f.some(function(e){return e===t})})?(r&&delete t.document,d):console.warn("\n      The selected elements can't be efficiently mapped.\n      Its probably best to use multiple single selectors instead!\n    ",e)}function a(t){var e=(0,m.getCommonProperties)(t),n=e.classes,r=e.attributes,o=e.tag,i=[];if(o&&i.push(o),n){var a=n.map(function(t){return"."+t}).join("");i.push(a)}if(r){var s=Object.keys(r).reduce(function(t,e){return t.push("["+e+'="'+r[e]+'"]'),t},[]).join("");i.push(s)}return i.length,[i.join("")]}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.length&&!t.name?i(t,e):o(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.getSingleSelector=o,e.getMultiSelector=i,e["default"]=s;var c=n(48),u=r(c),d=n(49),f=r(d),h=n(51),p=r(h),g=n(50),m=n(52)}).call(e,function(){return this}())},function(t,e){(function(n){"use strict";function r(t,e){if(n.document)return!1;n.document=e.context||function(){for(var e=t;e.parent;)e=e.parent;return e}();var r=Object.getPrototypeOf(n.document);return Object.getOwnPropertyDescriptor(r,"childTags")||Object.defineProperty(r,"childTags",{enumerable:!0,get:function(){return this.children.filter(function(t){return"tag"===t.type||"script"===t.type||"style"===t.type})}}),Object.getOwnPropertyDescriptor(r,"attributes")||Object.defineProperty(r,"attributes",{enumerable:!0,get:function(){var t=this.attribs,e=Object.keys(t),n=e.reduce(function(e,n,r){return e[r]={name:n,value:t[n]},e},{});return Object.defineProperty(n,"length",{enumerable:!1,configurable:!1,value:e.length}),n}}),r.getAttribute||(r.getAttribute=function(t){return this.attribs[t]||null}),r.getElementsByTagName||(r.getElementsByTagName=function(t){var e=[];return i(this.childTags,function(n){n.name!==t&&"*"!==t||e.push(n)}),e}),r.getElementsByClassName||(r.getElementsByClassName=function(t){var e=t.trim().replace(/\s+/g," ").split(" "),n=[];return i([this],function(t){var r=t.attribs["class"];r&&e.every(function(t){return r.indexOf(t)>-1})&&n.push(t)}),n}),r.querySelectorAll||(r.querySelectorAll=function(t){var e=this;t=t.replace(/(>)(\S)/g,"$1 $2").trim();var n=o(t),r=n.shift(),i=n.length;return r(this).filter(function(t){for(var r=0;r<i;){if(t=n[r](t,e),!t)return!1;r+=1}return!0})}),r.contains||(r.contains=function(t){var e=!1;return i([this],function(n,r){n===t&&(e=!0,r())}),e}),!0}function o(t){return t.split(" ").reverse().map(function(t,e){var n=0===e,r=t.split(":"),o=l(r,2),c=o[0],u=o[1],d=null,f=null;if(function(){switch(!0){case/>/.test(c):f=function(t){return function(e){return e(t.parent)&&t.parent}};break;case/^\./.test(c):var t=c.substr(1).split(".");d=function(e){var n=e.attribs["class"];return n&&t.every(function(t){return n.indexOf(t)>-1})},f=function(e,r){return n?e.getElementsByClassName(t.join(" ")):"function"==typeof e?e(d):a(e,r,d)};break;case/^\[/.test(c):var e=c.replace(/\[|\]|"/g,"").split("="),r=l(e,2),o=r[0],u=r[1];d=function(t){var e=Object.keys(t.attribs).indexOf(o)>-1;return!(!e||u&&t.attribs[o]!==u)},f=function(t,e){if(n){var r=function(){var e=[];return i([t],function(t){d(t)&&e.push(t)}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":s(r)))return r.v}return"function"==typeof t?t(d):a(t,e,d)};break;case/^#/.test(c):var h=c.substr(1);d=function(t){return t.attribs.id===h},f=function(t,e){if(n){var r=function(){var e=[];return i([t],function(t,n){d(t)&&(e.push(t),n())}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":s(r)))return r.v}return"function"==typeof t?t(d):a(t,e,d)};break;case/\*/.test(c):d=function(t){return!0},f=function(t,e){if(n){var r=function(){var e=[];return i([t],function(t){return e.push(t)}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":s(r)))return r.v}return"function"==typeof t?t(d):a(t,e,d)};break;default:d=function(t){return t.name===c},f=function(t,e){if(n){var r=function(){var e=[];return i([t],function(t){d(t)&&e.push(t)}),{v:e}}();if("object"===("undefined"==typeof r?"undefined":s(r)))return r.v}return"function"==typeof t?t(d):a(t,e,d)}}}(),!u)return f;var h=u.match(/-(child|type)\((\d+)\)$/),p=h[1],g=parseInt(h[2],10)-1,m=function(t){if(t){var e=t.parent.childTags;"type"===p&&(e=e.filter(d));var n=e.findIndex(function(e){return e===t});if(n===g)return!0}return!1};return function(t){var e=f(t);return n?e.reduce(function(t,e){return m(e)&&t.push(e),t},[]):m(e)&&e}})}function i(t,e){t.forEach(function(t){var n=!0;e(t,function(){return n=!1}),t.childTags&&n&&i(t.childTags,e)})}function a(t,e,n){for(;t.parent;){if(t=t.parent,n(t))return t;if(t===e)break}return null}Object.defineProperty(e,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(l){o=!0,i=l}finally{try{!r&&s["return"]&&s["return"]()}finally{if(o)throw i}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e["default"]=r,t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(t,e){var n=e.root,r=void 0===n?document:n,i=e.skip,s=void 0===i?null:i,u=e.priority,f=void 0===u?["id","class","href","src"]:u,h=e.ignore,p=void 0===h?{}:h,g=[],m=t,v=g.length,y=!1,b=s&&(Array.isArray(s)?s:[s]).map(function(t){return"function"!=typeof t?function(e){return e===t}:t}),x=function(t){return s&&b.some(function(e){return e(t)})};for(Object.keys(p).forEach(function(t){"class"===t&&(y=!0);var e=p[t];"function"!=typeof e&&("number"==typeof e&&(e=e.toString()),"string"==typeof e&&(e=new RegExp((0,d.escapeValue)(e).replace(/\\/g,"\\\\"))),"boolean"==typeof e&&(e=e?/(?:)/:/.^/),p[t]=function(t,n){return e.test(n)})}),y&&!function(){var t=p.attribute;p.attribute=function(e,n,r){return p["class"](n)||t&&t(e,n,r)}}();m!==r;){if(x(m)!==!0){if(o(f,m,p,g,r))break;if(a(m,p,g,r))break;o(f,m,p,g),g.length===v&&a(m,p,g),g.length===v&&l(f,m,p,g)}m=m.parentNode,v=g.length}if(m===r){var _=c(f,m,p);g.unshift(_)}return g.join(" ")}function o(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.parentNode,a=i(t,e,n);if(a){var s=o.querySelectorAll(a);if(1===s.length)return r.unshift(a),!0}return!1}function i(t,e,n){for(var r=e.attributes,o=Object.keys(r).sort(function(e,n){var o=t.indexOf(r[e].name),i=t.indexOf(r[n].name);return i===-1?o===-1?0:-1:o-i}),i=0,a=o.length;i<a;i++){var s=o[i],l=r[s],c=l.name,h=(0,d.escapeValue)(l.value),p=n[c]||n.attribute,g=f[c]||f.attribute;if(!u(p,c,h,g)){var m="["+c+'="'+h+'"]';if(/\b\d/.test(h)===!1&&("id"===c&&(m="#"+h),"class"===c)){var v=h.trim().replace(/\s+/g,".");m="."+v}return m}}return null}function a(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.parentNode,o=s(t,e);if(o){var i=r.getElementsByTagName(o);if(1===i.length)return n.unshift(o),!0}return!1}function s(t,e){var n=t.tagName.toLowerCase();return u(e.tag,null,n)?null:n}function l(t,e,n,r){for(var o=e.parentNode,i=o.childTags||o.children,a=0,s=i.length;a<s;a++){var l=i[a];if(l===e){var u=c(t,l,n);if(!u)return console.warn("\n          Element couldn't be matched through strict ignore pattern!\n        ",l,n,u);var d="> "+u+":nth-child("+(a+1)+")";return r.unshift(d),!0}}return!1}function c(t,e,n){var r=i(t,e,n);return r||(r=s(e,n)),r}function u(t,e,n,r){if(!n)return!0;var o=t||r;return!!o&&o(e,n,r)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=r;var d=n(50),f={attribute:function(t){return["style","data-reactid","data-react-checksum"].indexOf(t)>-1}};t.exports=e["default"]},function(t,e){"use strict";function n(t){for(var e=t.length,n=new Array(e),r=0;r<e;r++)n[r]=t[r];return n}function r(t){return t&&t.replace(/['"`\\\/:\?&!#$%^()[\]{|}*+;,.<=>@~]/g,"\\$&").replace(/\n/g,"A")}Object.defineProperty(e,"__esModule",{value:!0}),e.convertNodeList=n,e.escapeValue=r},function(t,e,n){(function(r){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Array.isArray(e)||(e=e.length?(0,u.convertNodeList)(e):[e]),!e.length||e.some(function(t){return 1!==t.nodeType}))throw new Error('Invalid input - to compare HTMLElements its necessary to provide a reference of the selected node(s)! (missing "elements")');var o=(0,c["default"])(e[0],n),i=t.replace(/> /g,">").split(/\s+(?=(?:(?:[^"]*"){2})*[^"]*$)/);if(i.length<2)return a("",t,"",e);for(var s=[i.pop()];i.length>1;){var l=i.pop(),d=i.join(" "),f=s.join(" "),h=d+" "+f,p=document.querySelectorAll(h);p.length!==e.length&&s.unshift(a(d,l,f,e))}return s.unshift(i[0]),i=s,i[0]=a("",i[0],i.slice(1).join(" "),e),i[i.length-1]=a(i.slice(0,-1).join(" "),i[i.length-1],"",e),o&&delete r.document,i.join(" ").replace(/>/g,"> ").trim()}function a(t,e,n,r){if(t.length&&(t+=" "),n.length&&(n=" "+n),/\[*\]/.test(e)){var o=e.replace(/=.*$/,"]"),i=""+t+o+n,a=document.querySelectorAll(i);if(s(a,r))e=o;else for(var l=document.querySelectorAll(""+t+o),c=function(){var o=l[u];if(r.some(function(t){return o.contains(t)})){var c=o.tagName.toLowerCase();return i=""+t+c+n,a=document.querySelectorAll(i),s(a,r)&&(e=c),"break"}},u=0,d=l.length;u<d;u++){var i,a,f=c();if("break"===f)break}}if(/>/.test(e)){var h=e.replace(/>/,""),i=""+t+h+n,a=document.querySelectorAll(i);s(a,r)&&(e=h)}if(/:nth-child/.test(e)){var p=e.replace(/nth-child/g,"nth-of-type"),i=""+t+p+n,a=document.querySelectorAll(i);s(a,r)&&(e=p)}if(/\.\S+\.\S+/.test(e)){for(var g=e.trim().split(".").slice(1).map(function(t){return"."+t}).sort(function(t,e){return t.length-e.length});g.length;){var m=e.replace(g.shift(),"").trim(),i=(""+t+m+n).trim();if(!i.length||">"===i.charAt(0)||">"===i.charAt(i.length-1))break;var a=document.querySelectorAll(i);s(a,r)&&(e=m)}if(g=e&&e.match(/\./g),g&&g.length>2)for(var v=document.querySelectorAll(""+t+e),y=function(){var o=v[u];if(r.some(function(t){return o.contains(t)})){var l=o.tagName.toLowerCase();return i=""+t+l+n,a=document.querySelectorAll(i),s(a,r)&&(e=l),"break"}},u=0,d=v.length;u<d;u++){var i,a,b=y();if("break"===b)break}}return e}function s(t,e){var n=t.length;return n===e.length&&e.every(function(e){for(var r=0;r<n;r++)if(t[r]===e)return!0;return!1})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var l=n(48),c=o(l),u=n(50);t.exports=e["default"]}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.root,r=void 0===n?document:n,o=[];t.forEach(function(t,e){for(var n=[];t!==r;)t=t.parentNode,n.unshift(t);o[e]=n}),o.sort(function(t,e){return t.length-e.length});for(var i=o.shift(),a=null,s=function(){var t=i[l],e=o.some(function(e){return!e.some(function(e){return e===t})});return e?"break":void(a=t)},l=0,c=i.length;l<c;l++){var u=s();if("break"===u)break}return a}function r(t){var e={classes:[],attributes:{},tag:null};return t.forEach(function(t){var n=e.classes,r=e.attributes,o=e.tag;if(void 0!==n){var i=t.getAttribute("class");i?(i=i.trim().split(" "),n.length?(n=n.filter(function(t){return i.some(function(e){return e===t})}),n.length?e.classes=n:delete e.classes):e.classes=i):delete e.classes}if(void 0!==r&&!function(){var n=t.attributes,o=Object.keys(n).reduce(function(t,e){var r=n[e],o=r.name;return r&&"class"!==o&&(t[o]=r.value),t},{}),i=Object.keys(o),a=Object.keys(r);i.length?a.length?(r=a.reduce(function(t,e){var n=r[e];return n===o[e]&&(t[e]=n),t},{}),Object.keys(r).length?e.attributes=r:delete e.attributes):e.attributes=o:delete e.attributes}(),void 0!==o){var a=t.tagName.toLowerCase();o?a!==o&&delete e.tag:e.tag=a}}),e}Object.defineProperty(e,"__esModule",{value:!0}),e.getCommonAncestor=n,e.getCommonProperties=r},function(t,e,n){"use strict";var r=(n(28),n(29)),o=n(27);Trex.component("overlay-message",function(t){var e={init:function(){var t=[{selector:".tml-omessage",rules:"z-index: 999997;background-color: white;padding: 0;position: fixed;min-width: 400px;margin: 0 auto;top: 50%;transform: translate(-50%, -50%);left: 50%;border-radius: 5px;box-shadow: 0 6px 13px 0 rgba(0,0,0,.23);display:none; opacity: 0;transition:opacity 0.3s;"},{selector:".tml-omessage .tml-omessage-title",rules:"background-color: #f8f7f6; padding: 10px; text-align: center; font-weight: bold"},{selector:".tml-omessage .tml-omessage-inner ",rules:"padding: 15px"},{selector:".tml-omessage.open",rules:"display:block; opacity: 1;"}];r(t),this.overlay=new o,this.overlay.toggleAttention(!1),this.overlay.toggleOverlay(!1)},show:function(t,e){e=e||{},this.elem||(this.elem=document.createElement("div"),this.elem.className="tml-omessage",this.elem.innerHTML='<div class="tml-omessage-title"></div><div class="tml-omessage-inner"><span class="tml-omessage-msg"></span></div>',document.body.appendChild(this.elem)),this.elem.querySelectorAll(".tml-omessage-msg")[0].innerHTML=t,this.elem.querySelectorAll(".tml-omessage-title")[0].innerHTML=e.title||"",this.overlay&&!this.overlay.overlayState&&(this.overlay.toggleAttention(!0),this.overlay.toggleOverlay(!0)),this.elem.classList.add("open")},hide:function(){this.overlay.toggleAttention(!1),this.overlay.toggleOverlay(!1),this.elem.classList.remove("open")}};return e.init(),{show:function(t,n){e.show(t,n)},hide:function(){e.hide()}}})},function(t,e){"use strict";Trex.component("authenticator",function(t){Trex.ready(function(t){t("translator.inline")&&Trex.auth.getLoginStatus().then(function(e){e&&"unauthorized"!==e.status&&"access_denied"!==e.status&&"not_in_project"!==e.status?(delete e.access_token,e.translator&&"inline_mode"in e.translator&&(e.translator.inline=e.translator.inline_mode,delete e.translator.inline_mode),Trex.auth.trigger("authorized",e),t("translator",e.translator)):t("translator",null)})})})},function(t,e,n){function r(t){return s[t]?s[t]:(s[t]=new o(function(e){a[t](function(t){e(t)})}),s[t])}var o=n(11),i=n(10),a={tour:n(56),video:n(68)},s={};Trex.component("guide",function(t){var e={getAllTours:function(t){return i("/guides?subsystem="+t)},getTourInfo:function(t){return i("/guides/"+t)},getTourData:function(t){return i("/guides/"+t+"/data")},markAsViewed:function(t){return Trex.auth.getLoginStatus().then(function(){return i("/users/me/guides/"+t,{type:"put"})})},startTour:function(t,n){var i=function(n){return o.all([this.getTourData(t),r(n.type)]).then(function(t){var r=t[0],o=t[1];return o&&o.startTour?void o.startTour(r,{title:n.title,onEnd:function(){return e.markAsViewed(n.id)}}):void console.warn("no start tour func for type:"+n.type)})}.bind(this);return n?i(n):this.getTourInfo(t).then(i)},currentTour:function(){}};return Trex.startTour=function(t){e.startTour(t)},e})},function(t,e,n){t.exports=function(t){n.e(2,function(e){t(n(57))})}},,,,,,,,,,,,function(t,e,n){t.exports=function(t){n.e(3,function(e){t(n(69))})}},,function(t,e,n){"use strict";var r=(n(29),n(37)),o=n(28),i=n(7),a=(n(9),n(24)),s=n(4),l=n(38);Trex.component("widget",function(t){function e(e,n){function r(t){g?f.sendMessage({subject:"mode-change",mode:t}):m.push(f.sendMessage.bind(f,{subject:"mode-change",mode:t}))}var c={app_id:t.key};t.source&&(c.source=encodeURIComponent(t.source)),t.locale&&(c.locale=t.locale||""),c.translatorAttached=s("widget.attached")||!1,c.widgetSide=s("widget.lastMode")||"right";var u=Trex.urlForTool("widget","index.html","phrases",c),d={url:u,left:0,bottom:0,width:54,height:380,margin:0,fixed:!0};f=new l,f.addDockable("left",{top:0,left:0,width:100,height:"100%"},{top:0,left:0,width:54,height:"100%",fixed:!0,transition:"all 0.3s"},{transition:"all 0.3s"}),f.addDockable("right",{top:0,right:0,width:100,height:"100%"},{top:0,right:0,width:54,height:"100%",fixed:!0,transition:"all 0.3s"},{transition:"all 0.3s"}),"floating"===e&&n&&i(d,{left:n.left,top:n.top,width:n.width,height:n.height}),f.render(d),f._setOrigin(u),e in f._dockables&&f.dock(e),window.cp=f,r("floating"===e?"floating":"minimized"===e?"minimized":"docked "+e),f.on("drag:end",function(){var t=o.getBounds(f._frame);s("widget.lastPos",t),f.currentDock||(r("floating"),s("widget.lastMode","floating"))}),f.on("docked",function(t){console.log("saving last mode",t),s("widget.lastMode",t),setTimeout(function(){"minimized"===t||r("docked "+t)},0)}),a.on("widget:restore",function(){cp.dock("right")}),a.on("widget:resize",function(t){cp.resize(t)}),a.on("widget:switch",function(){"right"===cp.currentDock?cp.dock("left"):cp.dock("right")}),a.on("widget:intro-tour",function(){Trex.startTour("agent.introduction")}),a.on("tool-loaded:widget",function(){for(console.log("AG: widget loaded"),g=!0;m.length;){var t=m.shift();t()}})}function n(e){for(var n,r=0;r<t.languages.length;r++){var o=t.languages[r];if(e&&o.locale===e.locale||!e&&o.locale===t.locale){n=o;break}}var i=n?n.english_name+" Translation":"Translation Exchange",a=n?n.flag_url:null;return{launcherImg:a,launcherText:i}}function c(t){if(!h&&t){h=new l;var e=n(),r=["<style>","body {","font:14px Helvetica Neue, Arial, sans-serif;","-webkit-font-smoothing: antialiased;","-moz-osx-font-smoothing: grayscale;","}",".te-launcher {","border-radius: 4px;","position: absolute;","bottom: 0;","left: 0;","height: 48px;","cursor: pointer;","background-color: #1E3A4A;","border: 1px solid #060C13;","color: #fff;","white-space: nowrap;","line-height: 47px;","padding: 0 20px;","font-weight: 600;","box-shadow:0 6px 13px 0 rgba(0,0,0,.23);","}",".te-launcher:hover {","background:#2f4958;","}",".te-launcher img {","margin-right:10px;","width:16px;","height:11px;","vertical-align:-1px;","}","</style>",'<div class="te-launcher" onclick="parent.tmlToggleWidget()" title="Click to open the control panel">',e.launcherImg?'<img id="te-flag" src="'+e.launcherImg+'" />':"",'<span id="te-text">'+e.launcherText+"</span>","</div>"].join("");h.addDockable("minimized",{},{bottom:20,left:20,width:300,height:54,fixed:!0,transition:"all 0.3s",template:r},{transition:"all 0.2s"}),h.render({},!0),h.dock("minimized")}else h&&h[t?"render":"hide"]({})}function u(t){if(t){p||(p=document.createElement("div"),p.style.background="rgba(t1,1,1, 0.1)",p.style.position="absolute",p.style.zIndex=99999999,r.setMaskElem(p),document.body.appendChild(p));var e=o.offsetRect(f._frame);p.style.left=e.left+"px",p.style.top=e.top+"px",p.style.width=e.width+"px",p.style.height=e.height+"px",p.style.display="block"}else p&&(p.style.display="none");f.sendMessage({subject:"drag-mode",state:t})}function d(t){f.sendMessage({subject:"add-keys-to-order",keys:t})}var f,h,p,g=!1,m=[];return window.tmlToggleWidget=function(){f?(f[f.visible?"hide":"render"]({}),c(!1)):(e("left",s("widget.lastPos")),s("widget.lastMode","left"),m.push(function(){c(!1)}))},window.tml&&tml.on("language-change",function(t){f&&f.sendMessage({subject:"page-lang-change",locale:t.locale})}),Trex.auth.on("authorized",function(n){Trex.auth.isInlineEnabled()&&(t&&t.tools&&t.tools.widget===!1||e(s("widget.lastMode")||"right"))}),Trex.ready(function(t){var e;Trex.require("ng-translator",function(t){e=t}),a.on("translator:lang-change",function(t){Trex.switchLanguage(t.locale)}),a.on("widget:pickPhrase",function(t,n){e.openPhrase({key:t.phrase,locale:t.locale,source:"widget",elem:n})}),a.on("widget:order-mode",function(t,e){r.toggleMode(t.state,e.frame)}),r.on("dragging-tml",function(){u(!0)}),r.on("dropping-tml",function(t){t&&t.key&&d([t.key])}),r.on("stop-dragging-tml",function(){u(!1)}),r.on("tml-over-widget",function(){u("over")})}),{isOpen:function(){return f&&f.visible},selectPhrase:function(t,e){f.sendMessage({subject:"select-phrase",id:t,attach:e})},nextPhrase:function(){f.sendMessage({subject:"next-phrase"})},prevPhrase:function(){f.sendMessage({subject:"prev-phrase"})},sendScreenshot:function(t,e){f.sendMessage({subject:"screenshot",blob:t,keys:e})},stopPicking:function(){f.sendMessage({subject:"stop-picking"})},sendPickedElement:function(t){f.sendMessage({subject:"picked-element",selector:t})}}})},function(t,e,n){function r(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)}var o,i,a,s=(n(29),n(37),n(28),n(10)),l=(n(7),n(9),n(24)),c=(n(4),n(38)),u=["<style>","body {","font:14px Helvetica Neue, Arial, sans-serif;","-webkit-font-smoothing: antialiased;","-moz-osx-font-smoothing: grayscale;","}","#tml-reporter {","background: #FAFAFB;","border-radius: 4px;","border: 1px solid #ebebeb;","padding-bottom: 10px;","font-weight: 600;","box-shadow:0 6px 13px 0 rgba(0,0,0,.23);","}",".report-option {","line-height: 30px;","cursor: pointer;","vertical-align: middle;","}",'.report-option input[type="radio"] {',"float: left;","margin-top: 9px;","margin-right: 15px;","}",'.report-option input[type="text"], .report-option textarea {',"margin-top: 9px;","min-width: 60%;","}",".tml-reporter-close {","position: absolute;","right: 1ex;","top: 1.5ex;","cursor: pointer;","}",".tml-reporter-title {","text-align: center;","position: relative;","border-bottom: 1px solid #E1E4E6;","padding: 0;","height: 43px;","line-height: 43px;","background: #ecc8c8;","font-weight: 400;","font-size: 14px;","margin: 0;","}",".tml-reporter-options {","margin: 10px 0;","padding-left: 20px;","list-style-type: none;","margin-top: 10px;","background: #FAFAFB;","}",".tml-reporter-controls {","margin: 10px 0;","padding-left: 20px;","margin-top: 2rem;","}",".tml-thank-you {","margin: 10px 0;","margin-top: 2rem;","text-align: center;","}",".tml-reporter-controls button {","display: inline-block;","padding: 0.25rem 0.8rem;","font-size: 1rem;","font-weight: normal;","line-height: 1.5;","text-align: center;","white-space: nowrap;","vertical-align: middle;","cursor: pointer;","-webkit-user-select: none;","-moz-user-select: none;","-ms-user-select: none;","user-select: none;","border: 1px solid transparent;","border-radius: .25rem;","color: #fff;","}",".tml-reporter-controls button:first-of-type {","background: #778EE6 !important;","border-color: #778EE6 !important;","}",".tml-reporter-controls button + button {","margin-left: 1rem;","}","</style>",'<div id="tml-reporter">',"</div>"].join(""),d={template:u,left:0,bottom:0,width:460,height:380,fixed:!0};Trex.component("reporter",function(t){function e(){return s("/utm/issues/reasons/").then(function(t){return a=t["Utm::Translation"]})}function n(){var t=i.querySelector(".tml-reporter-options"),e=i.ownerDocument.createElement("div");e.className="tml-thank-you",e.innerHTML='<h2>Thank you!<br><small style="color: #b8b8b8">(this window will auto-close)</small></h2>',t.parentNode.replaceChild(e,t);var n=i.querySelector(".tml-reporter-controls");n.innerHTML="<button>Close</button>",n.style.textAlign="center",n.style.paddingLeft=0,r(n.querySelector("button"),"click",o.close.bind(o)),setTimeout(o.close.bind(o),5e3)}function u(t,e,a){function l(){var t=i.querySelector('input[name="reason"]:checked');return t=t&&t.value||"",s("/utm/issues",{type:"post",data:{entity_id:a,title:i.querySelector("#reasontyped").value,reason:t}}).then(n)["catch"](n)}o.render(d),o._frame.contentWindow.document.getElementById("tml-reporter").innerHTML=h(t,e),o.center(),i=o._frame.contentWindow.document.getElementById("tml-reporter"),r(i.getElementsByTagName("button")[0],"click",function(){l()}),r(i.getElementsByTagName("button")[1],"click",function(){o.close()}),r(i.querySelector(".tml-reporter-close"),"click",function(){o.close()});var c=i.querySelector(".tml-reporter-title");r(c,"mousedown",function(t){t.preventDefault(),o._dragstart({action:"dragmove",type:"move",x:t.pageX,y:t.pageY})}),r(c,"mousemove",function(t){t.preventDefault(),o._dragmove({action:"dragmove",type:"move",x:t.pageX,y:t.pageY})}),r(c,"mouseup",function(t){t.preventDefault(),o._dragend({action:"dragend",type:"move",x:t.pageX,y:t.pageY})});for(var u=i.querySelectorAll('input[type="radio"]'),f=0;f<u.length;f++){var p=u[f];r(p,"click",function(){this.checked&&"other"===this.value?i.ownerDocument.getElementById("custom-option").style.display="block":this.checked&&"other"!==this.value&&(i.ownerDocument.getElementById("custom-option").style.display="none")})}}function f(t,n){return o||(o=new c),a?void u(t,a,n.id):e(t).then(function(e){u(t,e,n.id)})}function h(t,e,n){var r=e&&Object.keys(e).length;return['<div class="tml-reporter-title">','<div class="tml-reporter-close">','<svg width="16" height="16" viewBox="0 0 512 512"><path d="m286 256l220-220c8-8 8-21 0-30-9-8-22-8-30 0l-220 220-220-220c-8-8-21-8-30 0-8 9-8 22 0 30l220 220-220 220c-8 8-8 21 0 30 4 4 10 6 15 6 6 0 11-2 15-6l220-220 220 220c4 4 9 6 15 6 5 0 11-2 15-6 8-9 8-22 0-30z"></path></svg>',"</div>","Report "+t,"</div>",'<ul class="tml-reporter-options">',r?Object.keys(e).map(function(t){return'<li class="report-option"><label><input type="radio" name="reason" value="'+t+'"><div>'+e[t]+"</div></label></li>"}).join(""):"",'<li class="report-option" id="custom-option" style="display: none"><div><textarea id="reasontyped"></textarea></div></li>',"</ul>",'<div class="tml-reporter-controls">',"<button>Report</button>","<button>Cancel</button>","</div>"].join("")}l.on("translator:report",function(t){var e=t.state;f(e.type,e.translation)}),Trex.reportTranslation=function(t,e){e&&Trex.auth.setToken(e),f("translation",t)}})},function(t,e,n){var r=n(8),o=n(28),i=n(24),a="https://tools.translationexchange.com/vendor/socket.io/2.0.3/socket.io.js";Trex.component("communicator",function(t){Trex.ready(function(e){function n(t){var n=t.data,r=n.translation_key.key,i=document.querySelectorAll("[data-translation_key='"+r+"']"),a=n.translations[0]?n.translations[0]:n.translations[e("locale")][0];i.forEach(function(t){if(o.removeClass(t,"tml_not_translated"),o.removeClass(t,"tml_translated"),o.removeClass(t,"tml_pending"),o.removeClass(t,"tml_locked"),a){var e=a.locked?"tml_locked":"tml_translated";o.addClass(t,e),t.innerHTML=a.label}else o.addClass(t,"tml_not_translated")})}e("translator.inline")&&(r(a,function(){if(window.io){var e=t.environment||"production",n=t.key,r=[e,"project",n].join(":"),o=window.io(t.domains.communicator);o.emit("room",r),o.on("message",function(t){console.log("[SOCKET]",t),i.trigger("socket:"+t.type,t),i.trigger("socket:"+t.type,t)})}}),i.on("socket:source:translation-key-registered",n),i.on("socket:translation-key:translations-added",n))})})}]);